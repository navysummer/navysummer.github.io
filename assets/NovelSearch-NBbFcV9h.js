import{o as a,b as c,a as e,z as i,D as p,F as d,j as h,t as o,l as _}from"./vendor-BJAQRKHk.js";import{_ as k}from"./index-pXj3xARV.js";const f={data(){return{keyword:"",status:!1,result:[]}},methods:{search(){let l=this.keyword;if(l==="")alert("请输入关键词");else{let n=`https://shuapi.jiaston.com/search.aspx?key=${l}&page=1&siteid=app`;console.log(l),fetch(n,{headers:{"Content-Type":"application/json"}}).then(t=>(console.log(t),t.json())).then(t=>{console.log(t),t.info==="success"?this.result=t.data:alert("搜索失败，请重试")}).catch(t=>{console.log(t)})}},getChapterList(l){this.$router.push(`/novel/${l}`)}}},g={class:"input"},v={key:0,class:"result"},y={class:"image"},m=["src"],C={class:"info"},w=["onClick"];function x(l,n,t,N,r,u){return a(),c("div",null,[e("div",g,[i(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>r.keyword=s),type:"text"},null,512),[[p,r.keyword]]),e("input",{type:"button",value:"搜索",onClick:n[1]||(n[1]=(...s)=>u.search&&u.search(...s))})]),r.status?(a(),c("div",v,[(a(!0),c(d,null,h(r.result,s=>(a(),c("div",{key:s.index,class:"listitem"},[e("div",y,[e("img",{src:s.Img,alt:"暂无图片"},null,8,m)]),e("div",C,[e("h1",null,o(s.Name),1),e("span",null,o(s.Author),1),e("span",null,"类型："+o(s.CName),1),e("span",null,"状态："+o(s.BookStatus),1),e("p",null,o(s.Desc),1),e("p",null,"最新章节："+o(s.LastChapter),1),e("p",null,"最后更新时间："+o(l.UpdateTime),1),e("span",null,[e("button",{class:"chapter",onClick:j=>u.getChapterList(s.Id)},"章节列表",8,w)])])]))),128))])):_("",!0)])}const L=k(f,[["render",x]]);export{L as default};

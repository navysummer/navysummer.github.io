import{a as Ge}from"./decode-Dvin_P-g.js";import{H as se}from"./index-CjJjtUXp.js";import{b as ue,a as A,k as we,p as xt,F as Ct,n as yt,q as Dt,y as Ft,o as fe,t as At}from"./vendor-yjUBYCCz.js";import{_ as Et}from"./index-y6N59yDJ.js";import"./jquery-BCX6_a_s.js";const ze={};function Bt(e){let t=ze[e];if(t)return t;t=ze[e]=[];for(let n=0;n<128;n++){const o=String.fromCharCode(n);t.push(o)}for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);t[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return t}function Z(e,t){typeof t!="string"&&(t=Z.defaultChars);const n=Bt(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(o){let i="";for(let r=0,l=o.length;r<l;r+=3){const c=parseInt(o.slice(r+1,r+3),16);if(c<128){i+=n[c];continue}if((c&224)===192&&r+3<l){const s=parseInt(o.slice(r+4,r+6),16);if((s&192)===128){const u=c<<6&1984|s&63;u<128?i+="��":i+=String.fromCharCode(u),r+=3;continue}}if((c&240)===224&&r+6<l){const s=parseInt(o.slice(r+4,r+6),16),u=parseInt(o.slice(r+7,r+9),16);if((s&192)===128&&(u&192)===128){const f=c<<12&61440|s<<6&4032|u&63;f<2048||f>=55296&&f<=57343?i+="���":i+=String.fromCharCode(f),r+=6;continue}}if((c&248)===240&&r+9<l){const s=parseInt(o.slice(r+4,r+6),16),u=parseInt(o.slice(r+7,r+9),16),f=parseInt(o.slice(r+10,r+12),16);if((s&192)===128&&(u&192)===128&&(f&192)===128){let h=c<<18&1835008|s<<12&258048|u<<6&4032|f&63;h<65536||h>1114111?i+="����":(h-=65536,i+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),r+=9;continue}}i+="�"}return i})}Z.defaultChars=";/?:@&=+$,#";Z.componentChars="";const Se={};function wt(e){let t=Se[e];if(t)return t;t=Se[e]=[];for(let n=0;n<128;n++){const o=String.fromCharCode(n);/^[0-9a-z]$/i.test(o)?t.push(o):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function Q(e,t,n){typeof t!="string"&&(n=t,t=Q.defaultChars),typeof n>"u"&&(n=!0);const o=wt(t);let i="";for(let r=0,l=e.length;r<l;r++){const c=e.charCodeAt(r);if(n&&c===37&&r+2<l&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){i+=e.slice(r,r+3),r+=2;continue}if(c<128){i+=o[c];continue}if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&r+1<l){const s=e.charCodeAt(r+1);if(s>=56320&&s<=57343){i+=encodeURIComponent(e[r]+e[r+1]),r++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(e[r])}return i}Q.defaultChars=";/?:@&=+$,-_.!~*'()#";Q.componentChars="-_.!~*'()";function ke(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function ee(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const zt=/^([a-z0-9.+-]+:)/i,St=/:[0-9]*$/,vt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Mt=["<",">",'"',"`"," ","\r",`
`,"	"],It=["{","}","|","\\","^","`"].concat(Mt),Tt=["'"].concat(It),ve=["%","/","?",";","#"].concat(Tt),Me=["/","?","#"],jt=255,Ie=/^[+a-z0-9A-Z_-]{0,63}$/,$t=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Te={javascript:!0,"javascript:":!0},je={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function xe(e,t){if(e&&e instanceof ee)return e;const n=new ee;return n.parse(e,t),n}ee.prototype.parse=function(e,t){let n,o,i,r=e;if(r=r.trim(),!t&&e.split("#").length===1){const u=vt.exec(r);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let l=zt.exec(r);if(l&&(l=l[0],n=l.toLowerCase(),this.protocol=l,r=r.substr(l.length)),(t||l||r.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=r.substr(0,2)==="//",i&&!(l&&Te[l])&&(r=r.substr(2),this.slashes=!0)),!Te[l]&&(i||l&&!je[l])){let u=-1;for(let a=0;a<Me.length;a++)o=r.indexOf(Me[a]),o!==-1&&(u===-1||o<u)&&(u=o);let f,h;u===-1?h=r.lastIndexOf("@"):h=r.lastIndexOf("@",u),h!==-1&&(f=r.slice(0,h),r=r.slice(h+1),this.auth=f),u=-1;for(let a=0;a<ve.length;a++)o=r.indexOf(ve[a]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=r.length),r[u-1]===":"&&u--;const p=r.slice(0,u);r=r.slice(u),this.parseHost(p),this.hostname=this.hostname||"";const d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){const a=this.hostname.split(/\./);for(let k=0,x=a.length;k<x;k++){const y=a[k];if(y&&!y.match(Ie)){let m="";for(let g=0,_=y.length;g<_;g++)y.charCodeAt(g)>127?m+="x":m+=y[g];if(!m.match(Ie)){const g=a.slice(0,k),_=a.slice(k+1),b=y.match($t);b&&(g.push(b[1]),_.unshift(b[2])),_.length&&(r=_.join(".")+r),this.hostname=g.join(".");break}}}}this.hostname.length>jt&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const c=r.indexOf("#");c!==-1&&(this.hash=r.substr(c),r=r.slice(0,c));const s=r.indexOf("?");return s!==-1&&(this.search=r.substr(s),r=r.slice(0,s)),r&&(this.pathname=r),je[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ee.prototype.parseHost=function(e){let t=St.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Pt=Object.freeze(Object.defineProperty({__proto__:null,decode:Z,encode:Q,format:ke,parse:xe},Symbol.toStringTag,{value:"Module"})),We=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Qe=/[\0-\x1F\x7F-\x9F]/,Rt=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Ce=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Je=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Xe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Ot=Object.freeze(Object.defineProperty({__proto__:null,Any:We,Cc:Qe,Cf:Rt,P:Ce,S:Je,Z:Xe},Symbol.toStringTag,{value:"Module"}));function Lt(e){return Object.prototype.toString.call(e)}function ye(e){return Lt(e)==="[object String]"}const Zt=Object.prototype.hasOwnProperty;function qt(e,t){return Zt.call(e,t)}function re(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(o){e[o]=n[o]})}}),e}function Ye(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function De(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function te(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Ke=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Ut=/&([a-z#][a-z0-9]{1,31});/gi,Ht=new RegExp(Ke.source+"|"+Ut.source,"gi"),Nt=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Vt(e,t){if(t.charCodeAt(0)===35&&Nt.test(t)){const o=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return De(o)?te(o):e}const n=Ge(e);return n!==e?n:e}function Gt(e){return e.indexOf("\\")<0?e:e.replace(Ke,"$1")}function q(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Ht,function(t,n,o){return n||Vt(t,o)})}const Wt=/[&<>"]/,Qt=/[&<>"]/g,Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Xt(e){return Jt[e]}function P(e){return Wt.test(e)?e.replace(Qt,Xt):e}const Yt=/[.?*+^$[\]\\(){}|-]/g;function Kt(e){return e.replace(Yt,"\\$&")}function D(e){switch(e){case 9:case 32:return!0}return!1}function N(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function V(e){return Ce.test(e)||Je.test(e)}function G(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function oe(e){return e=e.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const en={mdurl:Pt,ucmicro:Ot},tn=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ye,assign:re,escapeHtml:P,escapeRE:Kt,fromCodePoint:te,has:qt,isMdAsciiPunct:G,isPunctChar:V,isSpace:D,isString:ye,isValidEntityCode:De,isWhiteSpace:N,lib:en,normalizeReference:oe,unescapeAll:q,unescapeMd:Gt},Symbol.toStringTag,{value:"Module"}));function nn(e,t,n){let o,i,r,l;const c=e.posMax,s=e.pos;for(e.pos=t+1,o=1;e.pos<c;){if(r=e.src.charCodeAt(e.pos),r===93&&(o--,o===0)){i=!0;break}if(l=e.pos,e.md.inline.skipToken(e),r===91){if(l===e.pos-1)o++;else if(n)return e.pos=s,-1}}let u=-1;return i&&(u=e.pos),e.pos=s,u}function rn(e,t,n){let o,i=t;const r={ok:!1,pos:0,str:""};if(e.charCodeAt(i)===60){for(i++;i<n;){if(o=e.charCodeAt(i),o===10||o===60)return r;if(o===62)return r.pos=i+1,r.str=q(e.slice(t+1,i)),r.ok=!0,r;if(o===92&&i+1<n){i+=2;continue}i++}return r}let l=0;for(;i<n&&(o=e.charCodeAt(i),!(o===32||o<32||o===127));){if(o===92&&i+1<n){if(e.charCodeAt(i+1)===32)break;i+=2;continue}if(o===40&&(l++,l>32))return r;if(o===41){if(l===0)break;l--}i++}return t===i||l!==0||(r.str=q(e.slice(t,i)),r.pos=i,r.ok=!0),r}function on(e,t,n,o){let i,r=t;const l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)l.str=o.str,l.marker=o.marker;else{if(r>=n)return l;let c=e.charCodeAt(r);if(c!==34&&c!==39&&c!==40)return l;t++,r++,c===40&&(c=41),l.marker=c}for(;r<n;){if(i=e.charCodeAt(r),i===l.marker)return l.pos=r+1,l.str+=q(e.slice(t,r)),l.ok=!0,l;if(i===40&&l.marker===41)return l;i===92&&r+1<n&&r++,r++}return l.can_continue=!0,l.str+=q(e.slice(t,r)),l}const cn=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:rn,parseLinkLabel:nn,parseLinkTitle:on},Symbol.toStringTag,{value:"Module"})),I={};I.code_inline=function(e,t,n,o,i){const r=e[t];return"<code"+i.renderAttrs(r)+">"+P(r.content)+"</code>"};I.code_block=function(e,t,n,o,i){const r=e[t];return"<pre"+i.renderAttrs(r)+"><code>"+P(e[t].content)+`</code></pre>
`};I.fence=function(e,t,n,o,i){const r=e[t],l=r.info?q(r.info).trim():"";let c="",s="";if(l){const f=l.split(/(\s+)/g);c=f[0],s=f.slice(2).join("")}let u;if(n.highlight?u=n.highlight(r.content,c,s)||P(r.content):u=P(r.content),u.indexOf("<pre")===0)return u+`
`;if(l){const f=r.attrIndex("class"),h=r.attrs?r.attrs.slice():[];f<0?h.push(["class",n.langPrefix+c]):(h[f]=h[f].slice(),h[f][1]+=" "+n.langPrefix+c);const p={attrs:h};return`<pre><code${i.renderAttrs(p)}>${u}</code></pre>
`}return`<pre><code${i.renderAttrs(r)}>${u}</code></pre>
`};I.image=function(e,t,n,o,i){const r=e[t];return r.attrs[r.attrIndex("alt")][1]=i.renderInlineAsText(r.children,n,o),i.renderToken(e,t,n)};I.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};I.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};I.text=function(e,t){return P(e[t].content)};I.html_block=function(e,t){return e[t].content};I.html_inline=function(e,t){return e[t].content};function U(){this.rules=re({},I)}U.prototype.renderAttrs=function(t){let n,o,i;if(!t.attrs)return"";for(i="",n=0,o=t.attrs.length;n<o;n++)i+=" "+P(t.attrs[n][0])+'="'+P(t.attrs[n][1])+'"';return i};U.prototype.renderToken=function(t,n,o){const i=t[n];let r="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&t[n-1].hidden&&(r+=`
`),r+=(i.nesting===-1?"</":"<")+i.tag,r+=this.renderAttrs(i),i.nesting===0&&o.xhtmlOut&&(r+=" /");let l=!1;if(i.block&&(l=!0,i.nesting===1&&n+1<t.length)){const c=t[n+1];(c.type==="inline"||c.hidden||c.nesting===-1&&c.tag===i.tag)&&(l=!1)}return r+=l?`>
`:">",r};U.prototype.renderInline=function(e,t,n){let o="";const i=this.rules;for(let r=0,l=e.length;r<l;r++){const c=e[r].type;typeof i[c]<"u"?o+=i[c](e,r,t,n,this):o+=this.renderToken(e,r,t)}return o};U.prototype.renderInlineAsText=function(e,t,n){let o="";for(let i=0,r=e.length;i<r;i++)switch(e[i].type){case"text":o+=e[i].content;break;case"image":o+=this.renderInlineAsText(e[i].children,t,n);break;case"html_inline":case"html_block":o+=e[i].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};U.prototype.render=function(e,t,n){let o="";const i=this.rules;for(let r=0,l=e.length;r<l;r++){const c=e[r].type;c==="inline"?o+=this.renderInline(e[r].children,t,n):typeof i[c]<"u"?o+=i[c](e,r,t,n,this):o+=this.renderToken(e,r,t,n)}return o};function E(){this.__rules__=[],this.__cache__=null}E.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};E.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){t.indexOf(o)<0&&t.push(o)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})};E.prototype.at=function(e,t,n){const o=this.__find__(e),i=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=i.alt||[],this.__cache__=null};E.prototype.before=function(e,t,n,o){const i=this.__find__(e),r=o||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};E.prototype.after=function(e,t,n,o){const i=this.__find__(e),r=o||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};E.prototype.push=function(e,t,n){const o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};E.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(o){const i=this.__find__(o);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[i].enabled=!0,n.push(o)},this),this.__cache__=null,n};E.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};E.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(o){const i=this.__find__(o);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[i].enabled=!1,n.push(o)},this),this.__cache__=null,n};E.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function S(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}S.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let o=0,i=n.length;o<i;o++)if(n[o][0]===t)return o;return-1};S.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};S.prototype.attrSet=function(t,n){const o=this.attrIndex(t),i=[t,n];o<0?this.attrPush(i):this.attrs[o]=i};S.prototype.attrGet=function(t){const n=this.attrIndex(t);let o=null;return n>=0&&(o=this.attrs[n][1]),o};S.prototype.attrJoin=function(t,n){const o=this.attrIndex(t);o<0?this.attrPush([t,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n};function et(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}et.prototype.Token=S;const ln=/\r\n?|\n/g,sn=/\0/g;function un(e){let t;t=e.src.replace(ln,`
`),t=t.replace(sn,"�"),e.src=t}function fn(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function an(e){const t=e.tokens;for(let n=0,o=t.length;n<o;n++){const i=t[n];i.type==="inline"&&e.md.inline.parse(i.content,e.md,e.env,i.children)}}function hn(e){return/^<a[>\s]/i.test(e)}function dn(e){return/^<\/a\s*>/i.test(e)}function pn(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,o=t.length;n<o;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let i=t[n].children,r=0;for(let l=i.length-1;l>=0;l--){const c=i[l];if(c.type==="link_close"){for(l--;i[l].level!==c.level&&i[l].type!=="link_open";)l--;continue}if(c.type==="html_inline"&&(hn(c.content)&&r>0&&r--,dn(c.content)&&r++),!(r>0)&&c.type==="text"&&e.md.linkify.test(c.content)){const s=c.content;let u=e.md.linkify.match(s);const f=[];let h=c.level,p=0;u.length>0&&u[0].index===0&&l>0&&i[l-1].type==="text_special"&&(u=u.slice(1));for(let d=0;d<u.length;d++){const a=u[d].url,k=e.md.normalizeLink(a);if(!e.md.validateLink(k))continue;let x=u[d].text;u[d].schema?u[d].schema==="mailto:"&&!/^mailto:/i.test(x)?x=e.md.normalizeLinkText("mailto:"+x).replace(/^mailto:/,""):x=e.md.normalizeLinkText(x):x=e.md.normalizeLinkText("http://"+x).replace(/^http:\/\//,"");const y=u[d].index;if(y>p){const b=new e.Token("text","",0);b.content=s.slice(p,y),b.level=h,f.push(b)}const m=new e.Token("link_open","a",1);m.attrs=[["href",k]],m.level=h++,m.markup="linkify",m.info="auto",f.push(m);const g=new e.Token("text","",0);g.content=x,g.level=h,f.push(g);const _=new e.Token("link_close","a",-1);_.level=--h,_.markup="linkify",_.info="auto",f.push(_),p=u[d].lastIndex}if(p<s.length){const d=new e.Token("text","",0);d.content=s.slice(p),d.level=h,f.push(d)}t[n].children=i=Ye(i,l,f)}}}}const tt=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,mn=/\((c|tm|r)\)/i,_n=/\((c|tm|r)\)/ig,gn={c:"©",r:"®",tm:"™"};function bn(e,t){return gn[t.toLowerCase()]}function kn(e){let t=0;for(let n=e.length-1;n>=0;n--){const o=e[n];o.type==="text"&&!t&&(o.content=o.content.replace(_n,bn)),o.type==="link_open"&&o.info==="auto"&&t--,o.type==="link_close"&&o.info==="auto"&&t++}}function xn(e){let t=0;for(let n=e.length-1;n>=0;n--){const o=e[n];o.type==="text"&&!t&&tt.test(o.content)&&(o.content=o.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),o.type==="link_open"&&o.info==="auto"&&t--,o.type==="link_close"&&o.info==="auto"&&t++}}function Cn(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(mn.test(e.tokens[t].content)&&kn(e.tokens[t].children),tt.test(e.tokens[t].content)&&xn(e.tokens[t].children))}const yn=/['"]/,$e=/['"]/g,Pe="’";function Y(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Dn(e,t){let n;const o=[];for(let i=0;i<e.length;i++){const r=e[i],l=e[i].level;for(n=o.length-1;n>=0&&!(o[n].level<=l);n--);if(o.length=n+1,r.type!=="text")continue;let c=r.content,s=0,u=c.length;e:for(;s<u;){$e.lastIndex=s;const f=$e.exec(c);if(!f)break;let h=!0,p=!0;s=f.index+1;const d=f[0]==="'";let a=32;if(f.index-1>=0)a=c.charCodeAt(f.index-1);else for(n=i-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){a=e[n].content.charCodeAt(e[n].content.length-1);break}let k=32;if(s<u)k=c.charCodeAt(s);else for(n=i+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){k=e[n].content.charCodeAt(0);break}const x=G(a)||V(String.fromCharCode(a)),y=G(k)||V(String.fromCharCode(k)),m=N(a),g=N(k);if(g?h=!1:y&&(m||x||(h=!1)),m?p=!1:x&&(g||y||(p=!1)),k===34&&f[0]==='"'&&a>=48&&a<=57&&(p=h=!1),h&&p&&(h=x,p=y),!h&&!p){d&&(r.content=Y(r.content,f.index,Pe));continue}if(p)for(n=o.length-1;n>=0;n--){let _=o[n];if(o[n].level<l)break;if(_.single===d&&o[n].level===l){_=o[n];let b,C;d?(b=t.md.options.quotes[2],C=t.md.options.quotes[3]):(b=t.md.options.quotes[0],C=t.md.options.quotes[1]),r.content=Y(r.content,f.index,C),e[_.token].content=Y(e[_.token].content,_.pos,b),s+=C.length-1,_.token===i&&(s+=b.length-1),c=r.content,u=c.length,o.length=n;continue e}}h?o.push({token:i,pos:f.index,single:d,level:l}):p&&d&&(r.content=Y(r.content,f.index,Pe))}}}function Fn(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!yn.test(e.tokens[t].content)||Dn(e.tokens[t].children,e)}function An(e){let t,n;const o=e.tokens,i=o.length;for(let r=0;r<i;r++){if(o[r].type!=="inline")continue;const l=o[r].children,c=l.length;for(t=0;t<c;t++)l[t].type==="text_special"&&(l[t].type="text");for(t=n=0;t<c;t++)l[t].type==="text"&&t+1<c&&l[t+1].type==="text"?l[t+1].content=l[t].content+l[t+1].content:(t!==n&&(l[n]=l[t]),n++);t!==n&&(l.length=n)}}const ae=[["normalize",un],["block",fn],["inline",an],["linkify",pn],["replacements",Cn],["smartquotes",Fn],["text_join",An]];function Fe(){this.ruler=new E;for(let e=0;e<ae.length;e++)this.ruler.push(ae[e][0],ae[e][1])}Fe.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,o=t.length;n<o;n++)t[n](e)};Fe.prototype.State=et;function T(e,t,n,o){this.src=e,this.md=t,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let r=0,l=0,c=0,s=0,u=i.length,f=!1;l<u;l++){const h=i.charCodeAt(l);if(!f)if(D(h)){c++,h===9?s+=4-s%4:s++;continue}else f=!0;(h===10||l===u-1)&&(h!==10&&l++,this.bMarks.push(r),this.eMarks.push(l),this.tShift.push(c),this.sCount.push(s),this.bsCount.push(0),f=!1,c=0,s=0,r=l+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}T.prototype.push=function(e,t,n){const o=new S(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o};T.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};T.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};T.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const o=this.src.charCodeAt(t);if(!D(o))break}return t};T.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!D(this.src.charCodeAt(--t)))return t+1;return t};T.prototype.skipChars=function(t,n){for(let o=this.src.length;t<o&&this.src.charCodeAt(t)===n;t++);return t};T.prototype.skipCharsBack=function(t,n,o){if(t<=o)return t;for(;t>o;)if(n!==this.src.charCodeAt(--t))return t+1;return t};T.prototype.getLines=function(t,n,o,i){if(t>=n)return"";const r=new Array(n-t);for(let l=0,c=t;c<n;c++,l++){let s=0;const u=this.bMarks[c];let f=u,h;for(c+1<n||i?h=this.eMarks[c]+1:h=this.eMarks[c];f<h&&s<o;){const p=this.src.charCodeAt(f);if(D(p))p===9?s+=4-(s+this.bsCount[c])%4:s++;else if(f-u<this.tShift[c])s++;else break;f++}s>o?r[l]=new Array(s-o+1).join(" ")+this.src.slice(f,h):r[l]=this.src.slice(f,h)}return r.join("")};T.prototype.Token=S;const En=65536;function he(e,t){const n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(n,o)}function Re(e){const t=[],n=e.length;let o=0,i=e.charCodeAt(o),r=!1,l=0,c="";for(;o<n;)i===124&&(r?(c+=e.substring(l,o-1),l=o):(t.push(c+e.substring(l,o)),c="",l=o+1)),r=i===92,o++,i=e.charCodeAt(o);return t.push(c+e.substring(l)),t}function Bn(e,t,n,o){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent||e.sCount[i]-e.blkIndent>=4)return!1;let r=e.bMarks[i]+e.tShift[i];if(r>=e.eMarks[i])return!1;const l=e.src.charCodeAt(r++);if(l!==124&&l!==45&&l!==58||r>=e.eMarks[i])return!1;const c=e.src.charCodeAt(r++);if(c!==124&&c!==45&&c!==58&&!D(c)||l===45&&D(c))return!1;for(;r<e.eMarks[i];){const _=e.src.charCodeAt(r);if(_!==124&&_!==45&&_!==58&&!D(_))return!1;r++}let s=he(e,t+1),u=s.split("|");const f=[];for(let _=0;_<u.length;_++){const b=u[_].trim();if(!b){if(_===0||_===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;b.charCodeAt(b.length-1)===58?f.push(b.charCodeAt(0)===58?"center":"right"):b.charCodeAt(0)===58?f.push("left"):f.push("")}if(s=he(e,t).trim(),s.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;u=Re(s),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const h=u.length;if(h===0||h!==f.length)return!1;if(o)return!0;const p=e.parentType;e.parentType="table";const d=e.md.block.ruler.getRules("blockquote"),a=e.push("table_open","table",1),k=[t,0];a.map=k;const x=e.push("thead_open","thead",1);x.map=[t,t+1];const y=e.push("tr_open","tr",1);y.map=[t,t+1];for(let _=0;_<u.length;_++){const b=e.push("th_open","th",1);f[_]&&(b.attrs=[["style","text-align:"+f[_]]]);const C=e.push("inline","",0);C.content=u[_].trim(),C.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let m,g=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let _=!1;for(let C=0,F=d.length;C<F;C++)if(d[C](e,i,n,!0)){_=!0;break}if(_||(s=he(e,i).trim(),!s)||e.sCount[i]-e.blkIndent>=4||(u=Re(s),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),g+=h-u.length,g>En))break;if(i===t+2){const C=e.push("tbody_open","tbody",1);C.map=m=[t+2,0]}const b=e.push("tr_open","tr",1);b.map=[i,i+1];for(let C=0;C<h;C++){const F=e.push("td_open","td",1);f[C]&&(F.attrs=[["style","text-align:"+f[C]]]);const z=e.push("inline","",0);z.content=u[C]?u[C].trim():"",z.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return m&&(e.push("tbody_close","tbody",-1),m[1]=i),e.push("table_close","table",-1),k[1]=i,e.parentType=p,e.line=i,!0}function wn(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let o=t+1,i=o;for(;o<n;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,i=o;continue}break}e.line=i;const r=e.push("code_block","code",0);return r.content=e.getLines(t,i,4+e.blkIndent,!1)+`
`,r.map=[t,e.line],!0}function zn(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||i+3>r)return!1;const l=e.src.charCodeAt(i);if(l!==126&&l!==96)return!1;let c=i;i=e.skipChars(i,l);let s=i-c;if(s<3)return!1;const u=e.src.slice(c,i),f=e.src.slice(i,r);if(l===96&&f.indexOf(String.fromCharCode(l))>=0)return!1;if(o)return!0;let h=t,p=!1;for(;h++,!(h>=n||(i=c=e.bMarks[h]+e.tShift[h],r=e.eMarks[h],i<r&&e.sCount[h]<e.blkIndent));)if(e.src.charCodeAt(i)===l&&!(e.sCount[h]-e.blkIndent>=4)&&(i=e.skipChars(i,l),!(i-c<s)&&(i=e.skipSpaces(i),!(i<r)))){p=!0;break}s=e.sCount[t],e.line=h+(p?1:0);const d=e.push("fence","code",0);return d.info=f,d.content=e.getLines(t+1,h,s,!0),d.markup=u,d.map=[t,e.line],!0}function Sn(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];const l=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==62)return!1;if(o)return!0;const c=[],s=[],u=[],f=[],h=e.md.block.ruler.getRules("blockquote"),p=e.parentType;e.parentType="blockquote";let d=!1,a;for(a=t;a<n;a++){const g=e.sCount[a]<e.blkIndent;if(i=e.bMarks[a]+e.tShift[a],r=e.eMarks[a],i>=r)break;if(e.src.charCodeAt(i++)===62&&!g){let b=e.sCount[a]+1,C,F;e.src.charCodeAt(i)===32?(i++,b++,F=!1,C=!0):e.src.charCodeAt(i)===9?(C=!0,(e.bsCount[a]+b)%4===3?(i++,b++,F=!1):F=!0):C=!1;let z=b;for(c.push(e.bMarks[a]),e.bMarks[a]=i;i<r;){const j=e.src.charCodeAt(i);if(D(j))j===9?z+=4-(z+e.bsCount[a]+(F?1:0))%4:z++;else break;i++}d=i>=r,s.push(e.bsCount[a]),e.bsCount[a]=e.sCount[a]+1+(C?1:0),u.push(e.sCount[a]),e.sCount[a]=z-b,f.push(e.tShift[a]),e.tShift[a]=i-e.bMarks[a];continue}if(d)break;let _=!1;for(let b=0,C=h.length;b<C;b++)if(h[b](e,a,n,!0)){_=!0;break}if(_){e.lineMax=a,e.blkIndent!==0&&(c.push(e.bMarks[a]),s.push(e.bsCount[a]),f.push(e.tShift[a]),u.push(e.sCount[a]),e.sCount[a]-=e.blkIndent);break}c.push(e.bMarks[a]),s.push(e.bsCount[a]),f.push(e.tShift[a]),u.push(e.sCount[a]),e.sCount[a]=-1}const k=e.blkIndent;e.blkIndent=0;const x=e.push("blockquote_open","blockquote",1);x.markup=">";const y=[t,0];x.map=y,e.md.block.tokenize(e,t,a);const m=e.push("blockquote_close","blockquote",-1);m.markup=">",e.lineMax=l,e.parentType=p,y[1]=e.line;for(let g=0;g<f.length;g++)e.bMarks[g+t]=c[g],e.tShift[g+t]=f[g],e.sCount[g+t]=u[g],e.bsCount[g+t]=s[g];return e.blkIndent=k,!0}function vn(e,t,n,o){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.bMarks[t]+e.tShift[t];const l=e.src.charCodeAt(r++);if(l!==42&&l!==45&&l!==95)return!1;let c=1;for(;r<i;){const u=e.src.charCodeAt(r++);if(u!==l&&!D(u))return!1;u===l&&c++}if(c<3)return!1;if(o)return!0;e.line=t+1;const s=e.push("hr","hr",0);return s.map=[t,e.line],s.markup=Array(c+1).join(String.fromCharCode(l)),!0}function Oe(e,t){const n=e.eMarks[t];let o=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(o++);if(i!==42&&i!==45&&i!==43)return-1;if(o<n){const r=e.src.charCodeAt(o);if(!D(r))return-1}return o}function Le(e,t){const n=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];let i=n;if(i+1>=o)return-1;let r=e.src.charCodeAt(i++);if(r<48||r>57)return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=e.src.charCodeAt(i),!D(r))?-1:i}function Mn(e,t){const n=e.level+2;for(let o=t+2,i=e.tokens.length-2;o<i;o++)e.tokens[o].level===n&&e.tokens[o].type==="paragraph_open"&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}function In(e,t,n,o){let i,r,l,c,s=t,u=!0;if(e.sCount[s]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[s]-e.listIndent>=4&&e.sCount[s]<e.blkIndent)return!1;let f=!1;o&&e.parentType==="paragraph"&&e.sCount[s]>=e.blkIndent&&(f=!0);let h,p,d;if((d=Le(e,s))>=0){if(h=!0,l=e.bMarks[s]+e.tShift[s],p=Number(e.src.slice(l,d-1)),f&&p!==1)return!1}else if((d=Oe(e,s))>=0)h=!1;else return!1;if(f&&e.skipSpaces(d)>=e.eMarks[s])return!1;if(o)return!0;const a=e.src.charCodeAt(d-1),k=e.tokens.length;h?(c=e.push("ordered_list_open","ol",1),p!==1&&(c.attrs=[["start",p]])):c=e.push("bullet_list_open","ul",1);const x=[s,0];c.map=x,c.markup=String.fromCharCode(a);let y=!1;const m=e.md.block.ruler.getRules("list"),g=e.parentType;for(e.parentType="list";s<n;){r=d,i=e.eMarks[s];const _=e.sCount[s]+d-(e.bMarks[s]+e.tShift[s]);let b=_;for(;r<i;){const R=e.src.charCodeAt(r);if(R===9)b+=4-(b+e.bsCount[s])%4;else if(R===32)b++;else break;r++}const C=r;let F;C>=i?F=1:F=b-_,F>4&&(F=1);const z=_+F;c=e.push("list_item_open","li",1),c.markup=String.fromCharCode(a);const j=[s,0];c.map=j,h&&(c.info=e.src.slice(l,d-1));const H=e.tight,le=e.tShift[s],gt=e.sCount[s],bt=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=z,e.tight=!0,e.tShift[s]=C-e.bMarks[s],e.sCount[s]=b,C>=i&&e.isEmpty(s+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,s,n,!0),(!e.tight||y)&&(u=!1),y=e.line-s>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=bt,e.tShift[s]=le,e.sCount[s]=gt,e.tight=H,c=e.push("list_item_close","li",-1),c.markup=String.fromCharCode(a),s=e.line,j[1]=s,s>=n||e.sCount[s]<e.blkIndent||e.sCount[s]-e.blkIndent>=4)break;let Be=!1;for(let R=0,kt=m.length;R<kt;R++)if(m[R](e,s,n,!0)){Be=!0;break}if(Be)break;if(h){if(d=Le(e,s),d<0)break;l=e.bMarks[s]+e.tShift[s]}else if(d=Oe(e,s),d<0)break;if(a!==e.src.charCodeAt(d-1))break}return h?c=e.push("ordered_list_close","ol",-1):c=e.push("bullet_list_close","ul",-1),c.markup=String.fromCharCode(a),x[1]=s,e.line=s,e.parentType=g,u&&Mn(e,k),!0}function Tn(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],l=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==91)return!1;function c(m){const g=e.lineMax;if(m>=g||e.isEmpty(m))return null;let _=!1;if(e.sCount[m]-e.blkIndent>3&&(_=!0),e.sCount[m]<0&&(_=!0),!_){const F=e.md.block.ruler.getRules("reference"),z=e.parentType;e.parentType="reference";let j=!1;for(let H=0,le=F.length;H<le;H++)if(F[H](e,m,g,!0)){j=!0;break}if(e.parentType=z,j)return null}const b=e.bMarks[m]+e.tShift[m],C=e.eMarks[m];return e.src.slice(b,C+1)}let s=e.src.slice(i,r+1);r=s.length;let u=-1;for(i=1;i<r;i++){const m=s.charCodeAt(i);if(m===91)return!1;if(m===93){u=i;break}else if(m===10){const g=c(l);g!==null&&(s+=g,r=s.length,l++)}else if(m===92&&(i++,i<r&&s.charCodeAt(i)===10)){const g=c(l);g!==null&&(s+=g,r=s.length,l++)}}if(u<0||s.charCodeAt(u+1)!==58)return!1;for(i=u+2;i<r;i++){const m=s.charCodeAt(i);if(m===10){const g=c(l);g!==null&&(s+=g,r=s.length,l++)}else if(!D(m))break}const f=e.md.helpers.parseLinkDestination(s,i,r);if(!f.ok)return!1;const h=e.md.normalizeLink(f.str);if(!e.md.validateLink(h))return!1;i=f.pos;const p=i,d=l,a=i;for(;i<r;i++){const m=s.charCodeAt(i);if(m===10){const g=c(l);g!==null&&(s+=g,r=s.length,l++)}else if(!D(m))break}let k=e.md.helpers.parseLinkTitle(s,i,r);for(;k.can_continue;){const m=c(l);if(m===null)break;s+=m,i=r,r=s.length,l++,k=e.md.helpers.parseLinkTitle(s,i,r,k)}let x;for(i<r&&a!==i&&k.ok?(x=k.str,i=k.pos):(x="",i=p,l=d);i<r;){const m=s.charCodeAt(i);if(!D(m))break;i++}if(i<r&&s.charCodeAt(i)!==10&&x)for(x="",i=p,l=d;i<r;){const m=s.charCodeAt(i);if(!D(m))break;i++}if(i<r&&s.charCodeAt(i)!==10)return!1;const y=oe(s.slice(1,u));return y?(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[y]>"u"&&(e.env.references[y]={title:x,href:h}),e.line=l),!0):!1}const jn=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$n="[a-zA-Z_:][a-zA-Z0-9:._-]*",Pn="[^\"'=<>`\\x00-\\x20]+",Rn="'[^']*'",On='"[^"]*"',Ln="(?:"+Pn+"|"+Rn+"|"+On+")",Zn="(?:\\s+"+$n+"(?:\\s*=\\s*"+Ln+")?)",nt="<[A-Za-z][A-Za-z0-9\\-]*"+Zn+"*\\s*\\/?>",rt="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",qn="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Un="<[?][\\s\\S]*?[?]>",Hn="<![A-Za-z][^>]*>",Nn="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Vn=new RegExp("^(?:"+nt+"|"+rt+"|"+qn+"|"+Un+"|"+Hn+"|"+Nn+")"),Gn=new RegExp("^(?:"+nt+"|"+rt+")"),O=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+jn.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Gn.source+"\\s*$"),/^$/,!1]];function Wn(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(i)!==60)return!1;let l=e.src.slice(i,r),c=0;for(;c<O.length&&!O[c][0].test(l);c++);if(c===O.length)return!1;if(o)return O[c][2];let s=t+1;if(!O[c][1].test(l)){for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(i=e.bMarks[s]+e.tShift[s],r=e.eMarks[s],l=e.src.slice(i,r),O[c][1].test(l)){l.length!==0&&s++;break}}e.line=s;const u=e.push("html_block","",0);return u.map=[t,s],u.content=e.getLines(t,s,e.blkIndent,!0),!0}function Qn(e,t,n,o){let i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let l=e.src.charCodeAt(i);if(l!==35||i>=r)return!1;let c=1;for(l=e.src.charCodeAt(++i);l===35&&i<r&&c<=6;)c++,l=e.src.charCodeAt(++i);if(c>6||i<r&&!D(l))return!1;if(o)return!0;r=e.skipSpacesBack(r,i);const s=e.skipCharsBack(r,35,i);s>i&&D(e.src.charCodeAt(s-1))&&(r=s),e.line=t+1;const u=e.push("heading_open","h"+String(c),1);u.markup="########".slice(0,c),u.map=[t,e.line];const f=e.push("inline","",0);f.content=e.src.slice(i,r).trim(),f.map=[t,e.line],f.children=[];const h=e.push("heading_close","h"+String(c),-1);return h.markup="########".slice(0,c),!0}function Jn(e,t,n){const o=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let r=0,l,c=t+1;for(;c<n&&!e.isEmpty(c);c++){if(e.sCount[c]-e.blkIndent>3)continue;if(e.sCount[c]>=e.blkIndent){let d=e.bMarks[c]+e.tShift[c];const a=e.eMarks[c];if(d<a&&(l=e.src.charCodeAt(d),(l===45||l===61)&&(d=e.skipChars(d,l),d=e.skipSpaces(d),d>=a))){r=l===61?1:2;break}}if(e.sCount[c]<0)continue;let p=!1;for(let d=0,a=o.length;d<a;d++)if(o[d](e,c,n,!0)){p=!0;break}if(p)break}if(!r)return!1;const s=e.getLines(t,c,e.blkIndent,!1).trim();e.line=c+1;const u=e.push("heading_open","h"+String(r),1);u.markup=String.fromCharCode(l),u.map=[t,e.line];const f=e.push("inline","",0);f.content=s,f.map=[t,e.line-1],f.children=[];const h=e.push("heading_close","h"+String(r),-1);return h.markup=String.fromCharCode(l),e.parentType=i,!0}function Xn(e,t,n){const o=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let r=t+1;for(e.parentType="paragraph";r<n&&!e.isEmpty(r);r++){if(e.sCount[r]-e.blkIndent>3||e.sCount[r]<0)continue;let u=!1;for(let f=0,h=o.length;f<h;f++)if(o[f](e,r,n,!0)){u=!0;break}if(u)break}const l=e.getLines(t,r,e.blkIndent,!1).trim();e.line=r;const c=e.push("paragraph_open","p",1);c.map=[t,e.line];const s=e.push("inline","",0);return s.content=l,s.map=[t,e.line],s.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}const K=[["table",Bn,["paragraph","reference"]],["code",wn],["fence",zn,["paragraph","reference","blockquote","list"]],["blockquote",Sn,["paragraph","reference","blockquote","list"]],["hr",vn,["paragraph","reference","blockquote","list"]],["list",In,["paragraph","reference","blockquote"]],["reference",Tn],["html_block",Wn,["paragraph","reference","blockquote"]],["heading",Qn,["paragraph","reference","blockquote"]],["lheading",Jn],["paragraph",Xn]];function ie(){this.ruler=new E;for(let e=0;e<K.length;e++)this.ruler.push(K[e][0],K[e][1],{alt:(K[e][2]||[]).slice()})}ie.prototype.tokenize=function(e,t,n){const o=this.ruler.getRules(""),i=o.length,r=e.md.options.maxNesting;let l=t,c=!1;for(;l<n&&(e.line=l=e.skipEmptyLines(l),!(l>=n||e.sCount[l]<e.blkIndent));){if(e.level>=r){e.line=n;break}const s=e.line;let u=!1;for(let f=0;f<i;f++)if(u=o[f](e,l,n,!1),u){if(s>=e.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),l=e.line,l<n&&e.isEmpty(l)&&(c=!0,l++,e.line=l)}};ie.prototype.parse=function(e,t,n,o){if(!e)return;const i=new this.State(e,t,n,o);this.tokenize(i,i.line,i.lineMax)};ie.prototype.State=T;function J(e,t,n,o){this.src=e,this.env=n,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}J.prototype.pushPending=function(){const e=new S("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};J.prototype.push=function(e,t,n){this.pending&&this.pushPending();const o=new S(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o};J.prototype.scanDelims=function(e,t){const n=this.posMax,o=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let r=e;for(;r<n&&this.src.charCodeAt(r)===o;)r++;const l=r-e,c=r<n?this.src.charCodeAt(r):32,s=G(i)||V(String.fromCharCode(i)),u=G(c)||V(String.fromCharCode(c)),f=N(i),h=N(c),p=!h&&(!u||f||s),d=!f&&(!s||h||u);return{can_open:p&&(t||!d||s),can_close:d&&(t||!p||u),length:l}};J.prototype.Token=S;function Yn(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Kn(e,t){let n=e.pos;for(;n<e.posMax&&!Yn(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const er=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function tr(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,o=e.posMax;if(n+3>o||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const i=e.pending.match(er);if(!i)return!1;const r=i[1],l=e.md.linkify.matchAtStart(e.src.slice(n-r.length));if(!l)return!1;let c=l.url;if(c.length<=r.length)return!1;let s=c.length;for(;s>0&&c.charCodeAt(s-1)===42;)s--;s!==c.length&&(c=c.slice(0,s));const u=e.md.normalizeLink(c);if(!e.md.validateLink(u))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const f=e.push("link_open","a",1);f.attrs=[["href",u]],f.markup="linkify",f.info="auto";const h=e.push("text","",0);h.content=e.md.normalizeLinkText(c);const p=e.push("link_close","a",-1);p.markup="linkify",p.info="auto"}return e.pos+=c.length-r.length,!0}function nr(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const o=e.pending.length-1,i=e.posMax;if(!t)if(o>=0&&e.pending.charCodeAt(o)===32)if(o>=1&&e.pending.charCodeAt(o-1)===32){let r=o-1;for(;r>=1&&e.pending.charCodeAt(r-1)===32;)r--;e.pending=e.pending.slice(0,r),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&D(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Ae=[];for(let e=0;e<256;e++)Ae.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Ae[e.charCodeAt(0)]=1});function rr(e,t){let n=e.pos;const o=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=o))return!1;let i=e.src.charCodeAt(n);if(i===10){for(t||e.push("hardbreak","br",0),n++;n<o&&(i=e.src.charCodeAt(n),!!D(i));)n++;return e.pos=n,!0}let r=e.src[n];if(i>=55296&&i<=56319&&n+1<o){const c=e.src.charCodeAt(n+1);c>=56320&&c<=57343&&(r+=e.src[n+1],n++)}const l="\\"+r;if(!t){const c=e.push("text_special","",0);i<256&&Ae[i]!==0?c.content=r:c.content=l,c.markup=l,c.info="escape"}return e.pos=n+1,!0}function or(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const i=n;n++;const r=e.posMax;for(;n<r&&e.src.charCodeAt(n)===96;)n++;const l=e.src.slice(i,n),c=l.length;if(e.backticksScanned&&(e.backticks[c]||0)<=i)return t||(e.pending+=l),e.pos+=c,!0;let s=n,u;for(;(u=e.src.indexOf("`",s))!==-1;){for(s=u+1;s<r&&e.src.charCodeAt(s)===96;)s++;const f=s-u;if(f===c){if(!t){const h=e.push("code_inline","code",0);h.markup=l,h.content=e.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=s,!0}e.backticks[f]=u}return e.backticksScanned=!0,t||(e.pending+=l),e.pos+=c,!0}function ir(e,t){const n=e.pos,o=e.src.charCodeAt(n);if(t||o!==126)return!1;const i=e.scanDelims(e.pos,!0);let r=i.length;const l=String.fromCharCode(o);if(r<2)return!1;let c;r%2&&(c=e.push("text","",0),c.content=l,r--);for(let s=0;s<r;s+=2)c=e.push("text","",0),c.content=l+l,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0}function Ze(e,t){let n;const o=[],i=t.length;for(let r=0;r<i;r++){const l=t[r];if(l.marker!==126||l.end===-1)continue;const c=t[l.end];n=e.tokens[l.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[c.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[c.token-1].type==="text"&&e.tokens[c.token-1].content==="~"&&o.push(c.token-1)}for(;o.length;){const r=o.pop();let l=r+1;for(;l<e.tokens.length&&e.tokens[l].type==="s_close";)l++;l--,r!==l&&(n=e.tokens[l],e.tokens[l]=e.tokens[r],e.tokens[r]=n)}}function cr(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ze(e,e.delimiters);for(let o=0;o<n;o++)t[o]&&t[o].delimiters&&Ze(e,t[o].delimiters)}const ot={tokenize:ir,postProcess:cr};function lr(e,t){const n=e.pos,o=e.src.charCodeAt(n);if(t||o!==95&&o!==42)return!1;const i=e.scanDelims(e.pos,o===42);for(let r=0;r<i.length;r++){const l=e.push("text","",0);l.content=String.fromCharCode(o),e.delimiters.push({marker:o,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0}function qe(e,t){const n=t.length;for(let o=n-1;o>=0;o--){const i=t[o];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const r=t[i.end],l=o>0&&t[o-1].end===i.end+1&&t[o-1].marker===i.marker&&t[o-1].token===i.token-1&&t[i.end+1].token===r.token+1,c=String.fromCharCode(i.marker),s=e.tokens[i.token];s.type=l?"strong_open":"em_open",s.tag=l?"strong":"em",s.nesting=1,s.markup=l?c+c:c,s.content="";const u=e.tokens[r.token];u.type=l?"strong_close":"em_close",u.tag=l?"strong":"em",u.nesting=-1,u.markup=l?c+c:c,u.content="",l&&(e.tokens[t[o-1].token].content="",e.tokens[t[i.end+1].token].content="",o--)}}function sr(e){const t=e.tokens_meta,n=e.tokens_meta.length;qe(e,e.delimiters);for(let o=0;o<n;o++)t[o]&&t[o].delimiters&&qe(e,t[o].delimiters)}const it={tokenize:lr,postProcess:sr};function ur(e,t){let n,o,i,r,l="",c="",s=e.pos,u=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const f=e.pos,h=e.posMax,p=e.pos+1,d=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(d<0)return!1;let a=d+1;if(a<h&&e.src.charCodeAt(a)===40){for(u=!1,a++;a<h&&(n=e.src.charCodeAt(a),!(!D(n)&&n!==10));a++);if(a>=h)return!1;if(s=a,i=e.md.helpers.parseLinkDestination(e.src,a,e.posMax),i.ok){for(l=e.md.normalizeLink(i.str),e.md.validateLink(l)?a=i.pos:l="",s=a;a<h&&(n=e.src.charCodeAt(a),!(!D(n)&&n!==10));a++);if(i=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<h&&s!==a&&i.ok)for(c=i.str,a=i.pos;a<h&&(n=e.src.charCodeAt(a),!(!D(n)&&n!==10));a++);}(a>=h||e.src.charCodeAt(a)!==41)&&(u=!0),a++}if(u){if(typeof e.env.references>"u")return!1;if(a<h&&e.src.charCodeAt(a)===91?(s=a+1,a=e.md.helpers.parseLinkLabel(e,a),a>=0?o=e.src.slice(s,a++):a=d+1):a=d+1,o||(o=e.src.slice(p,d)),r=e.env.references[oe(o)],!r)return e.pos=f,!1;l=r.href,c=r.title}if(!t){e.pos=p,e.posMax=d;const k=e.push("link_open","a",1),x=[["href",l]];k.attrs=x,c&&x.push(["title",c]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=a,e.posMax=h,!0}function fr(e,t){let n,o,i,r,l,c,s,u,f="";const h=e.pos,p=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const d=e.pos+2,a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(a<0)return!1;if(r=a+1,r<p&&e.src.charCodeAt(r)===40){for(r++;r<p&&(n=e.src.charCodeAt(r),!(!D(n)&&n!==10));r++);if(r>=p)return!1;for(u=r,c=e.md.helpers.parseLinkDestination(e.src,r,e.posMax),c.ok&&(f=e.md.normalizeLink(c.str),e.md.validateLink(f)?r=c.pos:f=""),u=r;r<p&&(n=e.src.charCodeAt(r),!(!D(n)&&n!==10));r++);if(c=e.md.helpers.parseLinkTitle(e.src,r,e.posMax),r<p&&u!==r&&c.ok)for(s=c.str,r=c.pos;r<p&&(n=e.src.charCodeAt(r),!(!D(n)&&n!==10));r++);else s="";if(r>=p||e.src.charCodeAt(r)!==41)return e.pos=h,!1;r++}else{if(typeof e.env.references>"u")return!1;if(r<p&&e.src.charCodeAt(r)===91?(u=r+1,r=e.md.helpers.parseLinkLabel(e,r),r>=0?i=e.src.slice(u,r++):r=a+1):r=a+1,i||(i=e.src.slice(d,a)),l=e.env.references[oe(i)],!l)return e.pos=h,!1;f=l.href,s=l.title}if(!t){o=e.src.slice(d,a);const k=[];e.md.inline.parse(o,e.md,e.env,k);const x=e.push("image","img",0),y=[["src",f],["alt",""]];x.attrs=y,x.children=k,x.content=o,s&&y.push(["title",s])}return e.pos=r,e.posMax=p,!0}const ar=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,hr=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function dr(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const o=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const l=e.src.charCodeAt(n);if(l===60)return!1;if(l===62)break}const r=e.src.slice(o+1,n);if(hr.test(r)){const l=e.md.normalizeLink(r);if(!e.md.validateLink(l))return!1;if(!t){const c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="autolink",c.info="auto";const s=e.push("text","",0);s.content=e.md.normalizeLinkText(r);const u=e.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return e.pos+=r.length+2,!0}if(ar.test(r)){const l=e.md.normalizeLink("mailto:"+r);if(!e.md.validateLink(l))return!1;if(!t){const c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="autolink",c.info="auto";const s=e.push("text","",0);s.content=e.md.normalizeLinkText(r);const u=e.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return e.pos+=r.length+2,!0}return!1}function pr(e){return/^<a[>\s]/i.test(e)}function mr(e){return/^<\/a\s*>/i.test(e)}function _r(e){const t=e|32;return t>=97&&t<=122}function gr(e,t){if(!e.md.options.html)return!1;const n=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==60||o+2>=n)return!1;const i=e.src.charCodeAt(o+1);if(i!==33&&i!==63&&i!==47&&!_r(i))return!1;const r=e.src.slice(o).match(Vn);if(!r)return!1;if(!t){const l=e.push("html_inline","",0);l.content=r[0],pr(l.content)&&e.linkLevel++,mr(l.content)&&e.linkLevel--}return e.pos+=r[0].length,!0}const br=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,kr=/^&([a-z][a-z0-9]{1,31});/i;function xr(e,t){const n=e.pos,o=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=o)return!1;if(e.src.charCodeAt(n+1)===35){const r=e.src.slice(n).match(br);if(r){if(!t){const l=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),c=e.push("text_special","",0);c.content=De(l)?te(l):te(65533),c.markup=r[0],c.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(kr);if(r){const l=Ge(r[0]);if(l!==r[0]){if(!t){const c=e.push("text_special","",0);c.content=l,c.markup=r[0],c.info="entity"}return e.pos+=r[0].length,!0}}}return!1}function Ue(e){const t={},n=e.length;if(!n)return;let o=0,i=-2;const r=[];for(let l=0;l<n;l++){const c=e[l];if(r.push(0),(e[o].marker!==c.marker||i!==c.token-1)&&(o=l),i=c.token,c.length=c.length||0,!c.close)continue;t.hasOwnProperty(c.marker)||(t[c.marker]=[-1,-1,-1,-1,-1,-1]);const s=t[c.marker][(c.open?3:0)+c.length%3];let u=o-r[o]-1,f=u;for(;u>s;u-=r[u]+1){const h=e[u];if(h.marker===c.marker&&h.open&&h.end<0){let p=!1;if((h.close||c.open)&&(h.length+c.length)%3===0&&(h.length%3!==0||c.length%3!==0)&&(p=!0),!p){const d=u>0&&!e[u-1].open?r[u-1]+1:0;r[l]=l-u+d,r[u]=d,c.open=!1,h.end=l,h.close=!1,f=-1,i=-2;break}}}f!==-1&&(t[c.marker][(c.open?3:0)+(c.length||0)%3]=f)}}function Cr(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ue(e.delimiters);for(let o=0;o<n;o++)t[o]&&t[o].delimiters&&Ue(t[o].delimiters)}function yr(e){let t,n,o=0;const i=e.tokens,r=e.tokens.length;for(t=n=0;t<r;t++)i[t].nesting<0&&o--,i[t].level=o,i[t].nesting>0&&o++,i[t].type==="text"&&t+1<r&&i[t+1].type==="text"?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}const de=[["text",Kn],["linkify",tr],["newline",nr],["escape",rr],["backticks",or],["strikethrough",ot.tokenize],["emphasis",it.tokenize],["link",ur],["image",fr],["autolink",dr],["html_inline",gr],["entity",xr]],pe=[["balance_pairs",Cr],["strikethrough",ot.postProcess],["emphasis",it.postProcess],["fragments_join",yr]];function X(){this.ruler=new E;for(let e=0;e<de.length;e++)this.ruler.push(de[e][0],de[e][1]);this.ruler2=new E;for(let e=0;e<pe.length;e++)this.ruler2.push(pe[e][0],pe[e][1])}X.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),o=n.length,i=e.md.options.maxNesting,r=e.cache;if(typeof r[t]<"u"){e.pos=r[t];return}let l=!1;if(e.level<i){for(let c=0;c<o;c++)if(e.level++,l=n[c](e,!0),e.level--,l){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;l||e.pos++,r[t]=e.pos};X.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,o=e.posMax,i=e.md.options.maxNesting;for(;e.pos<o;){const r=e.pos;let l=!1;if(e.level<i){for(let c=0;c<n;c++)if(l=t[c](e,!1),l){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};X.prototype.parse=function(e,t,n,o){const i=new this.State(e,t,n,o);this.tokenize(i);const r=this.ruler2.getRules(""),l=r.length;for(let c=0;c<l;c++)r[c](i)};X.prototype.State=J;function Dr(e){const t={};e=e||{},t.src_Any=We.source,t.src_Cc=Qe.source,t.src_Z=Xe.source,t.src_P=Ce.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function ge(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(o){e[o]=n[o]})}),e}function ce(e){return Object.prototype.toString.call(e)}function Fr(e){return ce(e)==="[object String]"}function Ar(e){return ce(e)==="[object Object]"}function Er(e){return ce(e)==="[object RegExp]"}function He(e){return ce(e)==="[object Function]"}function Br(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const ct={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function wr(e){return Object.keys(e||{}).reduce(function(t,n){return t||ct.hasOwnProperty(n)},!1)}const zr={"http:":{validate:function(e,t,n){const o=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const o=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const o=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},Sr="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",vr="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Mr(e){e.__index__=-1,e.__text_cache__=""}function Ir(e){return function(t,n){const o=t.slice(n);return e.test(o)?o.match(e)[0].length:0}}function Ne(){return function(e,t){t.normalize(e)}}function ne(e){const t=e.re=Dr(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Sr),n.push(t.src_xn),t.src_tlds=n.join("|");function o(c){return c.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");const i=[];e.__compiled__={};function r(c,s){throw new Error('(LinkifyIt) Invalid schema "'+c+'": '+s)}Object.keys(e.__schemas__).forEach(function(c){const s=e.__schemas__[c];if(s===null)return;const u={validate:null,link:null};if(e.__compiled__[c]=u,Ar(s)){Er(s.validate)?u.validate=Ir(s.validate):He(s.validate)?u.validate=s.validate:r(c,s),He(s.normalize)?u.normalize=s.normalize:s.normalize?r(c,s):u.normalize=Ne();return}if(Fr(s)){i.push(c);return}r(c,s)}),i.forEach(function(c){e.__compiled__[e.__schemas__[c]]&&(e.__compiled__[c].validate=e.__compiled__[e.__schemas__[c]].validate,e.__compiled__[c].normalize=e.__compiled__[e.__schemas__[c]].normalize)}),e.__compiled__[""]={validate:null,normalize:Ne()};const l=Object.keys(e.__compiled__).filter(function(c){return c.length>0&&e.__compiled__[c]}).map(Br).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Mr(e)}function Tr(e,t){const n=e.__index__,o=e.__last_index__,i=e.__text_cache__.slice(n,o);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=o+t,this.raw=i,this.text=i,this.url=i}function be(e,t){const n=new Tr(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function B(e,t){if(!(this instanceof B))return new B(e,t);t||wr(e)&&(t=e,e={}),this.__opts__=ge({},ct,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ge({},zr,e),this.__compiled__={},this.__tlds__=vr,this.__tlds_replaced__=!1,this.re={},ne(this)}B.prototype.add=function(t,n){return this.__schemas__[t]=n,ne(this),this};B.prototype.set=function(t){return this.__opts__=ge(this.__opts__,t),this};B.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,o,i,r,l,c,s,u,f;if(this.re.schema_test.test(t)){for(s=this.re.schema_search,s.lastIndex=0;(n=s.exec(t))!==null;)if(r=this.testSchemaAt(t,n[2],s.lastIndex),r){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(o=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=o.index+o[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=t.indexOf("@"),f>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(l=i.index+i[1].length,c=i.index+i[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=c))),this.__index__>=0};B.prototype.pretest=function(t){return this.re.pretest.test(t)};B.prototype.testSchemaAt=function(t,n,o){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,o,this):0};B.prototype.match=function(t){const n=[];let o=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(be(this,o)),o=this.__last_index__);let i=o?t.slice(o):t;for(;this.test(i);)n.push(be(this,o)),i=i.slice(this.__last_index__),o+=this.__last_index__;return n.length?n:null};B.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const o=this.testSchemaAt(t,n[2],n[0].length);return o?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o,be(this,0)):null};B.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(o,i,r){return o!==r[i-1]}).reverse(),ne(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ne(this),this)};B.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};B.prototype.onCompile=function(){};const L=2147483647,v=36,Ee=1,W=26,jr=38,$r=700,lt=72,st=128,ut="-",Pr=/^xn--/,Rr=/[^\0-\x7F]/,Or=/[\x2E\u3002\uFF0E\uFF61]/g,Lr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},me=v-Ee,M=Math.floor,_e=String.fromCharCode;function $(e){throw new RangeError(Lr[e])}function Zr(e,t){const n=[];let o=e.length;for(;o--;)n[o]=t(e[o]);return n}function ft(e,t){const n=e.split("@");let o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(Or,".");const i=e.split("."),r=Zr(i,t).join(".");return o+r}function at(e){const t=[];let n=0;const o=e.length;for(;n<o;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<o){const r=e.charCodeAt(n++);(r&64512)==56320?t.push(((i&1023)<<10)+(r&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}const qr=e=>String.fromCodePoint(...e),Ur=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:v},Ve=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},ht=function(e,t,n){let o=0;for(e=n?M(e/$r):e>>1,e+=M(e/t);e>me*W>>1;o+=v)e=M(e/me);return M(o+(me+1)*e/(e+jr))},dt=function(e){const t=[],n=e.length;let o=0,i=st,r=lt,l=e.lastIndexOf(ut);l<0&&(l=0);for(let c=0;c<l;++c)e.charCodeAt(c)>=128&&$("not-basic"),t.push(e.charCodeAt(c));for(let c=l>0?l+1:0;c<n;){const s=o;for(let f=1,h=v;;h+=v){c>=n&&$("invalid-input");const p=Ur(e.charCodeAt(c++));p>=v&&$("invalid-input"),p>M((L-o)/f)&&$("overflow"),o+=p*f;const d=h<=r?Ee:h>=r+W?W:h-r;if(p<d)break;const a=v-d;f>M(L/a)&&$("overflow"),f*=a}const u=t.length+1;r=ht(o-s,u,s==0),M(o/u)>L-i&&$("overflow"),i+=M(o/u),o%=u,t.splice(o++,0,i)}return String.fromCodePoint(...t)},pt=function(e){const t=[];e=at(e);const n=e.length;let o=st,i=0,r=lt;for(const s of e)s<128&&t.push(_e(s));const l=t.length;let c=l;for(l&&t.push(ut);c<n;){let s=L;for(const f of e)f>=o&&f<s&&(s=f);const u=c+1;s-o>M((L-i)/u)&&$("overflow"),i+=(s-o)*u,o=s;for(const f of e)if(f<o&&++i>L&&$("overflow"),f===o){let h=i;for(let p=v;;p+=v){const d=p<=r?Ee:p>=r+W?W:p-r;if(h<d)break;const a=h-d,k=v-d;t.push(_e(Ve(d+a%k,0))),h=M(a/k)}t.push(_e(Ve(h,0))),r=ht(i,u,c===l),i=0,++c}++i,++o}return t.join("")},Hr=function(e){return ft(e,function(t){return Pr.test(t)?dt(t.slice(4).toLowerCase()):t})},Nr=function(e){return ft(e,function(t){return Rr.test(t)?"xn--"+pt(t):t})},mt={version:"2.3.1",ucs2:{decode:at,encode:qr},decode:dt,encode:pt,toASCII:Nr,toUnicode:Hr},Vr={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Gr={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Wr={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Qr={default:Vr,zero:Gr,commonmark:Wr},Jr=/^(vbscript|javascript|file|data):/,Xr=/^data:image\/(gif|png|jpeg|webp);/;function Yr(e){const t=e.trim().toLowerCase();return Jr.test(t)?Xr.test(t):!0}const _t=["http:","https:","mailto:"];function Kr(e){const t=xe(e,!0);if(t.hostname&&(!t.protocol||_t.indexOf(t.protocol)>=0))try{t.hostname=mt.toASCII(t.hostname)}catch{}return Q(ke(t))}function eo(e){const t=xe(e,!0);if(t.hostname&&(!t.protocol||_t.indexOf(t.protocol)>=0))try{t.hostname=mt.toUnicode(t.hostname)}catch{}return Z(ke(t),Z.defaultChars+"%")}function w(e,t){if(!(this instanceof w))return new w(e,t);t||ye(e)||(t=e||{},e="default"),this.inline=new X,this.block=new ie,this.core=new Fe,this.renderer=new U,this.linkify=new B,this.validateLink=Yr,this.normalizeLink=Kr,this.normalizeLinkText=eo,this.utils=tn,this.helpers=re({},cn),this.options={},this.configure(e),t&&this.set(t)}w.prototype.set=function(e){return re(this.options,e),this};w.prototype.configure=function(e){const t=this;if(ye(e)){const n=e;if(e=Qr[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};w.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const o=e.filter(function(i){return n.indexOf(i)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};w.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const o=e.filter(function(i){return n.indexOf(i)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};w.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};w.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};w.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};w.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};w.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const to={name:"MarkdownPage",data(){return{title:"Markdown 工具",input:"",md:null,theme:"github-light",themes:{"github-light":{codeBg:"#0f172a0f",keyword:"#1f6feb",title:"#2f81f7",attr:"#9a6700",number:"#116329",string:"#1a7f37",type:"#bc4c00",symbol:"#7f57a1",comment:"#6e7781",additionBg:"#dafbe1",deletionBg:"#ffebe9"},"atom-one-dark":{codeBg:"#0b0e14",keyword:"#c678dd",title:"#61afef",attr:"#e5c07b",number:"#d19a66",string:"#98c379",type:"#e06c75",symbol:"#56b6c2",comment:"#7f848e",additionBg:"#1e5128",deletionBg:"#51281e"},monokai:{codeBg:"#272822",keyword:"#f92672",title:"#66d9ef",attr:"#fd971f",number:"#ae81ff",string:"#e6db74",type:"#a6e22e",symbol:"#66d9ef",comment:"#75715e",additionBg:"#244b28",deletionBg:"#4b2424"},"github-dark":{codeBg:"#0d1117",keyword:"#79c0ff",title:"#d2a8ff",attr:"#e3b341",number:"#ff7b72",string:"#a5d6ff",type:"#7ee787",symbol:"#b392f0",comment:"#8b949e",additionBg:"#1a472a",deletionBg:"#512626"},"atom-one-light":{codeBg:"#fafafa",keyword:"#a626a4",title:"#4078f2",attr:"#986801",number:"#0184bd",string:"#50a14f",type:"#e45649",symbol:"#4078f2",comment:"#a0a1a7",additionBg:"#e6ffed",deletionBg:"#ffeef0"},dracula:{codeBg:"#282a36",keyword:"#ff79c6",title:"#8be9fd",attr:"#f1fa8c",number:"#bd93f9",string:"#f1fa8c",type:"#50fa7b",symbol:"#8be9fd",comment:"#6272a4",additionBg:"#254625",deletionBg:"#4a2525"},nord:{codeBg:"#2e3440",keyword:"#81a1c1",title:"#88c0d0",attr:"#d08770",number:"#b48ead",string:"#a3be8c",type:"#ebcb8b",symbol:"#8fbcbb",comment:"#4c566a",additionBg:"#1f3d2b",deletionBg:"#3d1f1f"},"solarized-light":{codeBg:"#fdf6e3",keyword:"#859900",title:"#268bd2",attr:"#b58900",number:"#2aa198",string:"#2aa198",type:"#cb4b16",symbol:"#6c71c4",comment:"#93a1a1",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"solarized-dark":{codeBg:"#002b36",keyword:"#b58900",title:"#268bd2",attr:"#cb4b16",number:"#2aa198",string:"#2aa198",type:"#859900",symbol:"#6c71c4",comment:"#586e75",additionBg:"#1e3a2e",deletionBg:"#3a1e1e"},"tomorrow-night":{codeBg:"#1d1f21",keyword:"#c5a5c5",title:"#81a2be",attr:"#de935f",number:"#b294bb",string:"#b5bd68",type:"#cc6666",symbol:"#8abeb7",comment:"#969896",additionBg:"#203a27",deletionBg:"#3a2020"},"night-owl":{codeBg:"#011627",keyword:"#c792ea",title:"#82aaff",attr:"#f78c6c",number:"#f78c6c",string:"#ecc48d",type:"#addb67",symbol:"#7fdbca",comment:"#637777",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"oceanic-next":{codeBg:"#1b2b34",keyword:"#c594c5",title:"#5fb3b3",attr:"#fac863",number:"#ab7967",string:"#99c794",type:"#ec5f67",symbol:"#6699cc",comment:"#65737e",additionBg:"#213b2a",deletionBg:"#3b2121"},"vs-dark":{codeBg:"#1e1e1e",keyword:"#c586c0",title:"#4fc1ff",attr:"#dcdcaa",number:"#b5cea8",string:"#ce9178",type:"#4ec9b0",symbol:"#569cd6",comment:"#6a9955",additionBg:"#203a27",deletionBg:"#3a2020"},"a11y-dark":{codeBg:"#2b2b2b",keyword:"#ffcc00",title:"#ffd700",attr:"#ff8c00",number:"#ffa07a",string:"#7fff00",type:"#00ced1",symbol:"#00bfff",comment:"#9e9e9e",additionBg:"#1e3a27",deletionBg:"#3a1e1e"},"a11y-light":{codeBg:"#fefefe",keyword:"#2e7d32",title:"#1565c0",attr:"#ef6c00",number:"#283593",string:"#2e7d32",type:"#c62828",symbol:"#1565c0",comment:"#757575",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"gruvbox-dark":{codeBg:"#282828",keyword:"#fb4934",title:"#83a598",attr:"#fabd2f",number:"#d3869b",string:"#b8bb26",type:"#8ec07c",symbol:"#83a598",comment:"#928374",additionBg:"#223a2b",deletionBg:"#3a2222"},"gruvbox-light":{codeBg:"#fbf1c7",keyword:"#9d0006",title:"#076678",attr:"#b57614",number:"#8f3f71",string:"#79740e",type:"#427b58",symbol:"#076678",comment:"#7c6f64",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"one-dark-pro":{codeBg:"#0b0e14",keyword:"#c678dd",title:"#61afef",attr:"#e5c07b",number:"#d19a66",string:"#98c379",type:"#e06c75",symbol:"#56b6c2",comment:"#7f848e",additionBg:"#1e5128",deletionBg:"#51281e"},"one-light":{codeBg:"#fafafa",keyword:"#a626a4",title:"#4078f2",attr:"#986801",number:"#0184bd",string:"#50a14f",type:"#e45649",symbol:"#4078f2",comment:"#a0a1a7",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"material-darker":{codeBg:"#1f252a",keyword:"#c792ea",title:"#82aaff",attr:"#f78c6c",number:"#f78c6c",string:"#c3e88d",type:"#ff5370",symbol:"#89ddff",comment:"#545b61",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"material-lighter":{codeBg:"#fafafa",keyword:"#7c4dff",title:"#00b0ff",attr:"#f9a825",number:"#e57373",string:"#00c853",type:"#ff5252",symbol:"#00b0ff",comment:"#9e9e9e",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"material-palenight":{codeBg:"#292d3e",keyword:"#c792ea",title:"#82aaff",attr:"#f78c6c",number:"#f78c6c",string:"#c3e88d",type:"#ff5370",symbol:"#89ddff",comment:"#676e95",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"material-ocean":{codeBg:"#0f111a",keyword:"#c792ea",title:"#82aaff",attr:"#f78c6c",number:"#f78c6c",string:"#c3e88d",type:"#ff5370",symbol:"#89ddff",comment:"#5c6370",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},cobalt:{codeBg:"#002240",keyword:"#ff9d00",title:"#ffffff",attr:"#ffee80",number:"#ff628c",string:"#3ad900",type:"#9effff",symbol:"#ffffff",comment:"#0088ff",additionBg:"#0b2f3a",deletionBg:"#3a0b0b"},twilight:{codeBg:"#141414",keyword:"#f92672",title:"#a6e22e",attr:"#fd971f",number:"#ae81ff",string:"#e6db74",type:"#a1efe4",symbol:"#66d9ef",comment:"#75715e",additionBg:"#203a27",deletionBg:"#3a2020"},"papercolor-light":{codeBg:"#f5f1de",keyword:"#d7005f",title:"#005f87",attr:"#af8700",number:"#d75f00",string:"#5f8700",type:"#d70000",symbol:"#005f87",comment:"#8a8a8a",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"papercolor-dark":{codeBg:"#1c1c1c",keyword:"#d7005f",title:"#5f87af",attr:"#af8700",number:"#d75f00",string:"#5f8700",type:"#d70000",symbol:"#5f87af",comment:"#878787",additionBg:"#1e3a27",deletionBg:"#3a1e1e"},"base16-default-dark":{codeBg:"#181818",keyword:"#f2777a",title:"#6699cc",attr:"#ffcc66",number:"#cc99cc",string:"#99cc99",type:"#d27b53",symbol:"#66cccc",comment:"#7c7c7c",additionBg:"#203a27",deletionBg:"#3a2020"},"base16-default-light":{codeBg:"#f8f8f8",keyword:"#d7005f",title:"#005f87",attr:"#af8700",number:"#d75f00",string:"#5f8700",type:"#d70000",symbol:"#005f87",comment:"#8a8a8a",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"base16-eighties-dark":{codeBg:"#2d2d2d",keyword:"#f2777a",title:"#6699cc",attr:"#ffcc66",number:"#cc99cc",string:"#99cc99",type:"#d27b53",symbol:"#66cccc",comment:"#999999",additionBg:"#203a27",deletionBg:"#3a2020"},"base16-eighties-light":{codeBg:"#f2f0ec",keyword:"#d7005f",title:"#005f87",attr:"#af8700",number:"#d75f00",string:"#5f8700",type:"#d70000",symbol:"#005f87",comment:"#8a8a8a",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"base16-solarized-dark":{codeBg:"#002b36",keyword:"#b58900",title:"#268bd2",attr:"#cb4b16",number:"#2aa198",string:"#2aa198",type:"#859900",symbol:"#6c71c4",comment:"#586e75",additionBg:"#1e3a2e",deletionBg:"#3a1e1e"},"base16-solarized-light":{codeBg:"#fdf6e3",keyword:"#859900",title:"#268bd2",attr:"#b58900",number:"#2aa198",string:"#2aa198",type:"#cb4b16",symbol:"#6c71c4",comment:"#93a1a1",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"base16-monokai":{codeBg:"#272822",keyword:"#f92672",title:"#66d9ef",attr:"#fd971f",number:"#ae81ff",string:"#e6db74",type:"#a6e22e",symbol:"#66d9ef",comment:"#75715e",additionBg:"#244b28",deletionBg:"#4b2424"},"base16-onedark":{codeBg:"#282c34",keyword:"#c678dd",title:"#61afef",attr:"#e5c07b",number:"#d19a66",string:"#98c379",type:"#e06c75",symbol:"#56b6c2",comment:"#abb2bf",additionBg:"#1e5128",deletionBg:"#51281e"},"horizon-dark":{codeBg:"#1c1e26",keyword:"#d95757",title:"#25b0bc",attr:"#f07623",number:"#b877db",string:"#29d398",type:"#ee64ac",symbol:"#26c1f2",comment:"#6c6f93",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"horizon-light":{codeBg:"#fdf0ed",keyword:"#f43e5c",title:"#1e81b0",attr:"#a16e3a",number:"#8d5eb7",string:"#29a37a",type:"#e83e8c",symbol:"#3298dc",comment:"#9b9dad",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"pastel-dark":{codeBg:"#2d2d2d",keyword:"#ff6f91",title:"#6fc2ff",attr:"#ffd66b",number:"#c39bd3",string:"#a8e6cf",type:"#ff6f91",symbol:"#6fc2ff",comment:"#9e9e9e",additionBg:"#203a27",deletionBg:"#3a2020"},"pastel-light":{codeBg:"#fafafa",keyword:"#d291bc",title:"#6cb2eb",attr:"#f8d49d",number:"#cdb4db",string:"#bde0fe",type:"#ffadad",symbol:"#a0c4ff",comment:"#9e9e9e",additionBg:"#e6ffed",deletionBg:"#ffeef0"},pojoaque:{codeBg:"#181914",keyword:"#ff5e5b",title:"#7fdbff",attr:"#ff851b",number:"#b10dc9",string:"#2ecc40",type:"#ff4136",symbol:"#39cccc",comment:"#aaaaaa",additionBg:"#1e3a27",deletionBg:"#3a1e1e"},railscasts:{codeBg:"#2b2b2b",keyword:"#cc7832",title:"#6d9cbe",attr:"#a5c261",number:"#a8b0a8",string:"#a5c261",type:"#da4939",symbol:"#6d9cbe",comment:"#999999",additionBg:"#203a27",deletionBg:"#3a2020"},tomorrow:{codeBg:"#ffffff",keyword:"#8959a8",title:"#4271ae",attr:"#f5871f",number:"#c82829",string:"#718c00",type:"#eab700",symbol:"#3e999f",comment:"#8e908c",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"tomorrow-night-blue":{codeBg:"#002451",keyword:"#bbdaff",title:"#bbdaff",attr:"#ff9da4",number:"#bfbfff",string:"#d1f1a9",type:"#99ffff",symbol:"#bbdaff",comment:"#7285b7",additionBg:"#0b2f3a",deletionBg:"#3a0b0b"},"tomorrow-night-bright":{codeBg:"#000000",keyword:"#f9ee98",title:"#bbdaff",attr:"#ff9da4",number:"#bfbfff",string:"#d1f1a9",type:"#99ffff",symbol:"#bbdaff",comment:"#969896",additionBg:"#0f2f1f",deletionBg:"#2f0f0f"},xcode:{codeBg:"#f8f8f8",keyword:"#AA0D91",title:"#0C6DFD",attr:"#795E26",number:"#1C00CF",string:"#C41A16",type:"#0C7A5F",symbol:"#0C6DFD",comment:"#008000",additionBg:"#e6ffed",deletionBg:"#ffeef0"},xt256:{codeBg:"#000000",keyword:"#5f87ff",title:"#87afff",attr:"#ffd787",number:"#d7afff",string:"#afff87",type:"#ff875f",symbol:"#87d7ff",comment:"#878787",additionBg:"#0f2f1f",deletionBg:"#2f0f0f"},zenburn:{codeBg:"#3f3f3f",keyword:"#f0dfaf",title:"#dfdfbf",attr:"#dca3a3",number:"#d0bf8f",string:"#cc9393",type:"#93e0e3",symbol:"#8cd0d3",comment:"#7f9f7f",additionBg:"#203a27",deletionBg:"#3a2020"},"kimbie-dark":{codeBg:"#221a0f",keyword:"#dc3958",title:"#8ab3b5",attr:"#f79a32",number:"#d3b987",string:"#889b4a",type:"#7e602c",symbol:"#8ab3b5",comment:"#9d8b70",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"kimbie-light":{codeBg:"#fbf3db",keyword:"#dc3958",title:"#8ab3b5",attr:"#f79a32",number:"#d3b987",string:"#889b4a",type:"#7e602c",symbol:"#8ab3b5",comment:"#9d8b70",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"ayu-dark":{codeBg:"#0f1419",keyword:"#e6b673",title:"#39bae6",attr:"#e6b450",number:"#a37acc",string:"#b8cc52",type:"#f07178",symbol:"#59c2ff",comment:"#5c6773",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"ayu-mirage":{codeBg:"#1f2430",keyword:"#f28779",title:"#73b8ff",attr:"#ffad66",number:"#d5a9ff",string:"#bae67e",type:"#ef6b73",symbol:"#73b8ff",comment:"#6b727d",additionBg:"#203a27",deletionBg:"#3a2020"},"ayu-light":{codeBg:"#fafafa",keyword:"#f07178",title:"#55b4d4",attr:"#e6b450",number:"#a37acc",string:"#86b300",type:"#f07178",symbol:"#55b4d4",comment:"#9e9e9e",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"shades-of-purple":{codeBg:"#2d2b55",keyword:"#ff9d00",title:"#fad000",attr:"#a5ff90",number:"#d3d3d3",string:"#a5ff90",type:"#f28779",symbol:"#9effff",comment:"#b362ff",additionBg:"#203a27",deletionBg:"#3a2020"},synthwave:{codeBg:"#2b213a",keyword:"#fc199a",title:"#08f7fe",attr:"#f6f930",number:"#f8d210",string:"#72f1b8",type:"#f8d210",symbol:"#08f7fe",comment:"#7f7f7f",additionBg:"#203a27",deletionBg:"#3a2020"},"city-lights":{codeBg:"#1d252c",keyword:"#5d8aa8",title:"#5d8aa8",attr:"#fac863",number:"#ab7967",string:"#99c794",type:"#ec5f67",symbol:"#6699cc",comment:"#65737e",additionBg:"#213b2a",deletionBg:"#3b2121"},"ocean-dark":{codeBg:"#0b253a",keyword:"#4fb3ff",title:"#4fb3ff",attr:"#f0c674",number:"#8abeb7",string:"#b5bd68",type:"#cc6666",symbol:"#5f819d",comment:"#7c8a94",additionBg:"#0b2f3a",deletionBg:"#3a0b0b"},"ocean-light":{codeBg:"#f4fbff",keyword:"#005f87",title:"#005f87",attr:"#af8700",number:"#d75f00",string:"#5f8700",type:"#d70000",symbol:"#005f87",comment:"#8a8a8a",additionBg:"#e6ffed",deletionBg:"#ffeef0"},"winter-is-coming":{codeBg:"#001628",keyword:"#3fc7eb",title:"#3fc7eb",attr:"#ffc107",number:"#c792ea",string:"#7fdbca",type:"#ff5370",symbol:"#89ddff",comment:"#637777",additionBg:"#0b2f3a",deletionBg:"#3a0b0b"},"tokyo-night":{codeBg:"#1a1b26",keyword:"#7aa2f7",title:"#7aa2f7",attr:"#e0af68",number:"#bb9af7",string:"#9ece6a",type:"#f7768e",symbol:"#7dcfff",comment:"#565f89",additionBg:"#1c3b2a",deletionBg:"#3b1c1c"},"tokyo-night-storm":{codeBg:"#24283b",keyword:"#7aa2f7",title:"#7aa2f7",attr:"#e0af68",number:"#bb9af7",string:"#9ece6a",type:"#f7768e",symbol:"#7dcfff",comment:"#565f89",additionBg:"#203a27",deletionBg:"#3a2020"}}}},computed:{html(){return this.md?this.md.render(this.input||""):this.mdToHtml(this.input||"")},hlVars(){const e=this.themes[this.theme]||this.themes["github-light"];return{"--code-bg":e.codeBg,"--hl-keyword":e.keyword,"--hl-title":e.title,"--hl-attr":e.attr,"--hl-number":e.number,"--hl-string":e.string,"--hl-type":e.type,"--hl-symbol":e.symbol,"--hl-comment":e.comment,"--hl-addition":e.additionBg,"--hl-deletion":e.deletionBg}}},mounted(){document.title=this.title,this.md=new w({html:!0,linkify:!0,typographer:!0,highlight:(e,t)=>{try{return t&&se.getLanguage(t)?`<pre><code class="hljs">${se.highlight(e,{language:t,ignoreIllegals:!0}).value}</code></pre>`:`<pre><code class="hljs">${se.highlightAuto(e).value}</code></pre>`}catch{return`<pre><code>${e}</code></pre>`}}})},methods:{importMd(){const e=document.createElement("input");e.type="file",e.accept=".md,text/markdown,text/plain",e.onchange=async()=>{var o;const t=(o=e.files)==null?void 0:o[0];if(!t)return;const n=await t.text();this.input=n},e.click()},exportMd(){const e=new Blob([this.input||""],{type:"text/markdown;charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="document.md",t.click(),URL.revokeObjectURL(t.href)},exportHtml(){const e=this.buildHtml(this.md?this.md.render(this.input||""):this.mdToHtml(this.input||"")),t=new Blob([e],{type:"text/html;charset=utf-8"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="document.html",n.click(),URL.revokeObjectURL(n.href)},exportDoc(){const e=this.buildDocxHtml(this.md?this.md.render(this.input||""):this.mdToHtml(this.input||"")),t=new Blob([e],{type:"application/msword;charset=utf-8"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="document.doc",n.click(),URL.revokeObjectURL(n.href)},exportPdf(){const e=this.buildHtml(this.md?this.md.render(this.input||""):this.mdToHtml(this.input||""),!0),t=window.open("","_blank");t&&(t.document.open(),t.document.write(e),t.document.close(),t.focus(),t.print())},buildHtml(e,t=!1){var r;const n=`
        :root {
          --md-fg: #1f2328;
          --md-sub: #57606a;
          --md-link: #0969da;
          --md-border: #d0d7de;
          --md-muted: #f6f8fa;
          --code-bg: #0f172a0f;
        }
        * { box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif; line-height: 1.7; padding: 28px; color: var(--md-fg); }
        main { max-width: 980px; margin: 0 auto; }
        h1 { font-size: 28px; margin: 1.2em 0 .6em; }
        h2 { font-size: 24px; margin: 1.1em 0 .55em; }
        h3 { font-size: 20px; margin: 1em 0 .5em; }
        h4,h5,h6 { margin: .9em 0 .45em; }
        p { margin: .85em 0; }
        img { max-width: 100%; border-radius: 6px; }
        pre { background: var(--code-bg); padding: 14px; border: 1px solid var(--md-border); border-radius: 8px; overflow: auto; line-height: 1.6; }
        code { font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13px; }
        p code, li code { background: var(--code-bg); border: 1px solid var(--md-border); border-radius: 6px; padding: 2px 6px; }
        blockquote { margin: 1em 0; padding: .4em 1em; border-left: 4px solid var(--md-border); color: var(--md-sub); background: #fafbfc; border-radius: 0 6px 6px 0; }
        ul,ol { padding-left: 1.3em; margin: .6em 0; }
        li { margin: .25em 0; }
        hr { border: none; border-top: 1px solid var(--md-border); margin: 18px 0; }
        a { color: var(--md-link); text-decoration: none; } a:hover { text-decoration: underline; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid var(--md-border); padding: 8px 10px; }
        thead th { background: var(--md-muted); }
        tbody tr:nth-child(odd) { background: #fafbfc; }
        .hljs { color: #0b1026; background: transparent; }
        .hljs-keyword, .hljs-selector-tag, .hljs-literal { color: var(--hl-keyword); font-weight: 600; }
        .hljs-title, .hljs-name, .hljs-section { color: var(--hl-title); }
        .hljs-attr, .hljs-attribute { color: var(--hl-attr); }
        .hljs-number, .hljs-meta .hljs-number, .hljs-params { color: var(--hl-number); }
        .hljs-string, .hljs-meta .hljs-string { color: var(--hl-string); }
        .hljs-type, .hljs-class { color: var(--hl-type); }
        .hljs-symbol, .hljs-bullet { color: var(--hl-symbol); }
        .hljs-comment { color: var(--hl-comment); font-style: italic; }
        .hljs-addition { background: var(--hl-addition); }
        .hljs-deletion { background: var(--hl-deletion); }
        ${t?"@page { margin: 16mm; }":""}
      `,o=((r=this.themes)==null?void 0:r[this.theme])||this.themes["github-light"];return`<!doctype html><html><head><meta charset="utf-8"><title>Markdown导出</title><style>${`
        :root {
          --code-bg: ${o.codeBg};
          --hl-keyword: ${o.keyword};
          --hl-title: ${o.title};
          --hl-attr: ${o.attr};
          --hl-number: ${o.number};
          --hl-string: ${o.string};
          --hl-type: ${o.type};
          --hl-symbol: ${o.symbol};
          --hl-comment: ${o.comment};
          --hl-addition: ${o.additionBg};
          --hl-deletion: ${o.deletionBg};
        }
      `}${n}</style></head><body><main>${e}</main></body></html>`},buildDocxHtml(e){var o;const t=((o=this.themes)==null?void 0:o[this.theme])||this.themes["github-light"];return`<!doctype html><html><head><meta charset="utf-8"><title>Markdown导出</title><style>${`
        * { box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif; line-height: 1.7; padding: 28px; color: #1f2328; }
        main { max-width: 980px; margin: 0 auto; }
        h1 { font-size: 28px; margin: 1.2em 0 .6em; }
        h2 { font-size: 24px; margin: 1.1em 0 .55em; }
        h3 { font-size: 20px; margin: 1em 0 .5em; }
        h4,h5,h6 { margin: .9em 0 .45em; }
        p { margin: .85em 0; }
        img { max-width: 100%; border-radius: 6px; }
        pre { background: ${t.codeBg}; padding: 14px; border: 1px solid #d0d7de; border-radius: 8px; overflow: auto; line-height: 1.6; }
        code { font-family: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 13px; }
        p code, li code { background: ${t.codeBg}; border: 1px solid #d0d7de; border-radius: 6px; padding: 2px 6px; }
        blockquote { margin: 1em 0; padding: .4em 1em; border-left: 4px solid #d0d7de; color: #57606a; background: #fafbfc; border-radius: 0 6px 6px 0; }
        ul,ol { padding-left: 1.3em; margin: .6em 0; }
        li { margin: .25em 0; }
        hr { border: none; border-top: 1px solid #d0d7de; margin: 18px 0; }
        a { color: #0969da; text-decoration: none; } a:hover { text-decoration: underline; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #d0d7de; padding: 8px 10px; }
        thead th { background: #f6f8fa; }
        tbody tr:nth-child(odd) { background: #fafbfc; }
        .hljs { color: #0b1026; background: transparent; }
        .hljs-keyword, .hljs-selector-tag, .hljs-literal { color: ${t.keyword}; font-weight: 600; }
        .hljs-title, .hljs-name, .hljs-section { color: ${t.title}; }
        .hljs-attr, .hljs-attribute { color: ${t.attr}; }
        .hljs-number, .hljs-meta .hljs-number, .hljs-params { color: ${t.number}; }
        .hljs-string, .hljs-meta .hljs-string { color: ${t.string}; }
        .hljs-type, .hljs-class { color: ${t.type}; }
        .hljs-symbol, .hljs-bullet { color: ${t.symbol}; }
        .hljs-comment { color: ${t.comment}; font-style: italic; }
        .hljs-addition { background: ${t.additionBg}; }
        .hljs-deletion { background: ${t.deletionBg}; }
      `}</style></head><body><main>${e}</main></body></html>`},mdToHtml(e){const t=l=>l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=e.replace(/\r\n/g,`
`).split(`
`),o=[];let i=!1,r=null;for(let l=0;l<n.length;l++){let c=n[l];if(c.trim().startsWith("```")){i?(i=!1,o.push("</code></pre>")):(i=!0,o.push("<pre><code>"));continue}if(i){o.push(t(c));continue}if(/^\s*---\s*$/.test(c)){o.push("<hr>");continue}if(/^\s*>/.test(c)){o.push("<blockquote>"+t(c.replace(/^\s*>+\s?/,""))+"</blockquote>");continue}const s=c.match(/^(#{1,6})\s+(.*)$/);if(s){o.push(`<h${s[1].length}>${this.inline(s[2])}</h${s[1].length}>`);continue}const u=c.match(/^\s*\d+\.\s+(.*)$/),f=c.match(/^\s*[-*]\s+(.*)$/);if(u){r!=="ol"&&(r&&o.push(`</${r}>`),o.push("<ol>"),r="ol"),o.push(`<li>${this.inline(u[1])}</li>`);continue}if(f){r!=="ul"&&(r&&o.push(`</${r}>`),o.push("<ul>"),r="ul"),o.push(`<li>${this.inline(f[1])}</li>`);continue}if(c.trim()===""){r&&(o.push(`</${r}>`),r=null);continue}r&&(o.push(`</${r}>`),r=null),o.push("<p>"+this.inline(c)+"</p>")}return r&&o.push(`</${r}>`),o.join(`
`)},inline(e){return e=e.replace(/\[([^\]]+)\]\(([^)\s]+)(?:\s+"[^"]*")?\)/g,'<a href="$2" target="_blank" rel="noopener">$1</a>'),e=e.replace(/!\[([^\]]*)\]\(([^)\s]+)(?:\s+"[^"]*")?\)/g,'<img alt="$1" src="$2">'),e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/__([^_]+)__/g,"<strong>$1</strong>"),e=e.replace(/\*([^*]+)\*/g,"<em>$1</em>").replace(/_([^_]+)_/g,"<em>$1</em>"),e=e.replace(/`([^`]+)`/g,"<code>$1</code>"),e}}},no={class:"md-wrap"},ro={class:"topbar"},oo={class:"actions"},io=["value"],co={class:"content"},lo={class:"pane left"},so={class:"pane right"},uo=["innerHTML"];function fo(e,t,n,o,i,r){return fe(),ue("div",no,[A("div",ro,[t[7]||(t[7]=A("div",{class:"title"}," Markdown 工具 ",-1)),A("div",oo,[A("button",{onClick:t[0]||(t[0]=(...l)=>r.importMd&&r.importMd(...l))}," 导入md文件 "),A("button",{onClick:t[1]||(t[1]=(...l)=>r.exportMd&&r.exportMd(...l))}," 导出md文件 "),A("button",{onClick:t[2]||(t[2]=(...l)=>r.exportHtml&&r.exportHtml(...l))}," 导出html文件 "),A("button",{onClick:t[3]||(t[3]=(...l)=>r.exportDoc&&r.exportDoc(...l))}," 导出doc文件 "),A("button",{onClick:t[4]||(t[4]=(...l)=>r.exportPdf&&r.exportPdf(...l))}," 导出pdf文件 "),we(A("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.theme=l),class:"theme-sel"},[(fe(!0),ue(Ct,null,yt(i.themes,(l,c)=>(fe(),ue("option",{key:c,value:c},At(c),9,io))),128))],512),[[xt,i.theme]])])]),A("div",co,[A("div",lo,[we(A("textarea",{"onUpdate:modelValue":t[6]||(t[6]=l=>i.input=l),class:"editor",placeholder:"在此输入或导入 Markdown 内容"},null,512),[[Dt,i.input]])]),A("div",so,[A("div",{class:"preview",style:Ft(r.hlVars),innerHTML:r.html},null,12,uo)])])])}const go=Et(to,[["render",fo],["__scopeId","data-v-d0a0986a"]]);export{go as default};

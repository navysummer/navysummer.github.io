import{_ as Q}from"./index-pXj3xARV.js";import{o as c,b as f,F as j,a as h,t as T,l as w,j as H,p as R,k as ae,r as z,z as q,D as x,c as Te}from"./vendor-BJAQRKHk.js";class E extends Error{constructor(e,r){super(`${e} at position ${r}`),this.position=r}}const ue=32,Je=10,ce=9,fe=13,Le=160,Ae=8192,je=8202,Ie=8239,We=8287,Me=12288;function Fe(n){return/^[0-9A-Fa-f]$/.test(n)}function v(n){return n>="0"&&n<="9"}function Pe(n){return n>=" "}function P(n){return`,:[]/{}()
+`.includes(n)}function ee(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"||n==="_"||n==="$"}function ne(n){return n>="a"&&n<="z"||n>="A"&&n<="Z"||n==="_"||n==="$"||n>="0"&&n<="9"}const re=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,se=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function te(n){return`,[]/{}
+`.includes(n)}function ie(n){return V(n)||Ve.test(n)}const Ve=/^[[{\w-]$/;function Ue(n){return n===`
`||n==="\r"||n==="	"||n==="\b"||n==="\f"}function k(n,e){const r=n.charCodeAt(e);return r===ue||r===Je||r===ce||r===fe}function Be(n,e){const r=n.charCodeAt(e);return r===ue||r===ce||r===fe}function He(n,e){const r=n.charCodeAt(e);return r===Le||r>=Ae&&r<=je||r===Ie||r===We||r===Me}function V(n){return de(n)||D(n)}function de(n){return n==='"'||n==="“"||n==="”"}function oe(n){return n==='"'}function D(n){return n==="'"||n==="‘"||n==="’"||n==="`"||n==="´"}function le(n){return n==="'"}function A(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const d=n.lastIndexOf(e);return d!==-1?n.substring(0,d)+(r?"":n.substring(d+1)):n}function C(n,e){let r=n.length;if(!k(n,r-1))return n+e;for(;k(n,r-1);)r--;return n.substring(0,r)+e+n.substring(r)}function Re(n,e,r){return n.substring(0,e)+n.substring(e+r)}function De(n){return/[,\n][ \t\r]*$/.test(n)}const Qe={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},ze={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function pe(n){let e=0,r="";I(["```","[```","{```"]),o()||_e(),I(["```","```]","```}"]);const t=J(",");for(t&&i(),ie(n[e])&&De(r)?(t||(r=C(r,",")),ye()):t&&(r=A(r,","));n[e]==="}"||n[e]==="]";)e++,i();if(e>=n.length)return r;Ne();function o(){i();const s=Ce()||we()||_()||be()||Se()||Z(!1)||ve();return i(),s}function i(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const l=e;let u=a(s);do u=m(),u&&(u=a(s));while(u);return e>l}function a(s){const l=s?k:Be;let u="";for(;;)if(l(n,e))u+=n[e],e++;else if(He(n,e))u+=" ",e++;else break;return u.length>0?(r+=u,!0):!1}function m(){if(n[e]==="/"&&n[e+1]==="*"){for(;e<n.length&&!Ge(n,e);)e++;return e+=2,!0}if(n[e]==="/"&&n[e+1]==="/"){for(;e<n.length&&n[e]!==`
`;)e++;return!0}return!1}function I(s){if(ge(s)){if(ee(n[e]))for(;e<n.length&&ne(n[e]);)e++;return i(),!0}return!1}function ge(s){a(!0);for(const l of s){const u=e+l.length;if(n.slice(e,u)===l)return e=u,!0}return!1}function J(s){return n[e]===s?(r+=n[e],e++,!0):!1}function W(s){return n[e]===s?(e++,!0):!1}function me(){return W("\\")}function G(){return i(),n[e]==="."&&n[e+1]==="."&&n[e+2]==="."?(e+=3,i(),W(","),!0):!1}function Ce(){if(n[e]==="{"){r+="{",e++,i(),W(",")&&i();let s=!0;for(;e<n.length&&n[e]!=="}";){let l;if(s?(l=!0,s=!1):(l=J(","),l||(r=C(r,",")),i()),G(),!(_()||Z(!0))){n[e]==="}"||n[e]==="{"||n[e]==="]"||n[e]==="["||n[e]===void 0?r=A(r,","):Oe();break}i();const F=J(":"),S=e>=n.length;F||(ie(n[e])||S?r=C(r,":"):X()),o()||(F||S?r+="null":X())}return n[e]==="}"?(r+="}",e++):r=C(r,"}"),!0}return!1}function we(){if(n[e]==="["){r+="[",e++,i(),W(",")&&i();let s=!0;for(;e<n.length&&n[e]!=="]";)if(s?s=!1:J(",")||(r=C(r,",")),G(),!o()){r=A(r,",");break}return n[e]==="]"?(r+="]",e++):r=C(r,"]"),!0}return!1}function ye(){let s=!0,l=!0;for(;l;)s?s=!1:J(",")||(r=C(r,",")),l=o();l||(r=A(r,",")),r=`[
${r}
]`}function _(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,u=n[e]==="\\";if(u&&(e++,u=!0),V(n[e])){const F=oe(n[e])?oe:le(n[e])?le:D(n[e])?D:de,S=e,L=r.length;let p='"';for(e++;;){if(e>=n.length){const g=$(e-1);return!s&&P(n.charAt(g))?(e=S,r=r.substring(0,L),_(!0)):(p=C(p,'"'),r+=p,!0)}if(e===l)return p=C(p,'"'),r+=p,!0;if(F(n[e])){const g=e,B=p.length;if(p+='"',e++,r+=p,i(!1),s||e>=n.length||P(n[e])||V(n[e])||v(n[e]))return K(),!0;const y=$(g-1),Y=n.charAt(y);if(Y===",")return e=S,r=r.substring(0,L),_(!1,y);if(P(Y))return e=S,r=r.substring(0,L),_(!0);r=r.substring(0,L),e=g+1,p=`${p.substring(0,B)}\\${p.substring(B)}`}else if(s&&te(n[e])){if(n[e-1]===":"&&re.test(n.substring(S+1,e+2)))for(;e<n.length&&se.test(n[e]);)p+=n[e],e++;return p=C(p,'"'),r+=p,K(),!0}else if(n[e]==="\\"){const g=n.charAt(e+1);if(ze[g]!==void 0)p+=n.slice(e,e+2),e+=2;else if(g==="u"){let y=2;for(;y<6&&Fe(n[e+y]);)y++;y===6?(p+=n.slice(e,e+6),e+=6):e+y>=n.length?e=n.length:Ee()}else p+=g,e+=2}else{const g=n.charAt(e);g==='"'&&n[e-1]!=="\\"?(p+=`\\${g}`,e++):Ue(g)?(p+=Qe[g],e++):(Pe(g)||ke(g),p+=g,e++)}u&&me()}}return!1}function K(){let s=!1;for(i();n[e]==="+";){s=!0,e++,i(),r=A(r,'"',!0);const l=r.length;_()?r=Re(r,l,1):r=C(r,'"')}return s}function be(){const s=e;if(n[e]==="-"){if(e++,M())return U(s),!0;if(!v(n[e]))return e=s,!1}for(;v(n[e]);)e++;if(n[e]==="."){if(e++,M())return U(s),!0;if(!v(n[e]))return e=s,!1;for(;v(n[e]);)e++}if(n[e]==="e"||n[e]==="E"){if(e++,(n[e]==="-"||n[e]==="+")&&e++,M())return U(s),!0;if(!v(n[e]))return e=s,!1;for(;v(n[e]);)e++}if(!M())return e=s,!1;if(e>s){const l=n.slice(s,e),u=/^0\d/.test(l);return r+=u?`"${l}"`:l,!0}return!1}function Se(){return O("true","true")||O("false","false")||O("null","null")||O("True","true")||O("False","false")||O("None","null")}function O(s,l){return n.slice(e,e+s.length)===s?(r+=l,e+=s.length,!0):!1}function Z(s){const l=e;if(ee(n[e])){for(;e<n.length&&ne(n[e]);)e++;let u=e;for(;k(n,u);)u++;if(n[u]==="(")return e=u+1,o(),n[e]===")"&&(e++,n[e]===";"&&e++),!0}for(;e<n.length&&!te(n[e])&&!V(n[e])&&(!s||n[e]!==":");)e++;if(n[e-1]===":"&&re.test(n.substring(l,e+2)))for(;e<n.length&&se.test(n[e]);)e++;if(e>l){for(;k(n,e-1)&&e>0;)e--;const u=n.slice(l,e);return r+=u==="undefined"?"null":JSON.stringify(u),n[e]==='"'&&e++,!0}}function ve(){if(n[e]==="/"){const s=e;for(e++;e<n.length&&(n[e]!=="/"||n[e-1]==="\\");)e++;return e++,r+=JSON.stringify(n.substring(s,e)),!0}}function $(s){let l=s;for(;l>0&&k(n,l);)l--;return l}function M(){return e>=n.length||P(n[e])||k(n,e)}function U(s){r+=`${n.slice(s,e)}0`}function ke(s){throw new E(`Invalid character ${JSON.stringify(s)}`,e)}function Ne(){throw new E(`Unexpected character ${JSON.stringify(n[e])}`,e)}function _e(){throw new E("Unexpected end of json string",n.length)}function Oe(){throw new E("Object key expected",e)}function X(){throw new E("Colon expected",e)}function Ee(){const s=n.slice(e,e+6);throw new E(`Invalid unicode character "${s}"`,e)}}function Ge(n,e){return n[e]==="*"&&n[e+1]==="/"}const N=(n,e)=>new Array(e+1).join(n),Ke=n=>{try{const e=pe(n),r=JSON.parse(e);return JSON.stringify(r,null,2)}catch(e){return"JSON解析失败: "+e.message+`

`+n}},he=n=>{const e=n.replace(/>\s+</g,"><").replace(/</g,`
<`).replace(/>/g,`>
`).split(`
`).filter(o=>o.trim()!=="");let r=0;const d=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),t=[];return e.forEach(o=>{const i=o.trim();if(i.startsWith("</"))r=Math.max(0,r-1),t.push(N("  ",r)+i);else if(i.startsWith("<")&&i.endsWith(">")&&!i.startsWith("<?")&&!i.includes("</")&&!i.endsWith("/>")){const a=i.match(/^<\s*([a-zA-Z0-9:-]+)/),m=a&&d.has(a[1].toLowerCase());t.push(N("  ",r)+i),m||r++}else t.push(N("  ",r)+i)}),t.join(`
`)},Ze=n=>he(n),$e=n=>{const r=n.replace(/\s+/g," ").replace(/\{/g,`{
`).replace(/\}/g,`
}
`).replace(/;/g,`;
`).split(`
`).map(o=>o.trim()).filter(o=>o.length>0);let d=0;const t=[];return r.forEach(o=>{o.startsWith("}")&&(d=Math.max(0,d-1)),t.push(N("  ",d)+o),o.endsWith("{")&&d++}),t.join(`
`)},Xe=n=>n.replace(/;+/g,";"),Ye=n=>n.replace(/\{/g,`{
`).replace(/\}/g,`
}
`).replace(/;/g,`;
`),b=n=>{const e=Ye(Xe(n)).split(`
`).map(t=>t.trim());let r=0;const d=[];return e.forEach(t=>{t.length!==0&&(t.startsWith("}")&&(r=Math.max(0,r-1)),d.push(N("  ",r)+t),t.endsWith("{")&&r++)}),d.join(`
`)},qe=n=>b(n),xe=n=>{const e=["SELECT","FROM","WHERE","GROUP BY","ORDER BY","HAVING","LIMIT","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","UNION","WITH","INSERT","INTO","VALUES","UPDATE","SET","DELETE"];let r=n.replace(/\s+/g," ");e.forEach(i=>{const a=new RegExp("\\s*"+i.replace(" ","\\s+")+"\\s*","gi");r=r.replace(a,`
`+i+" ")}),r=r.replace(/\(/g,`(
`).replace(/\)/g,`
)`);const d=r.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);let t=0;const o=[];return d.forEach(i=>{i===")"&&(t=Math.max(0,t-1)),o.push(N("  ",t)+i),i.endsWith("(")&&t++}),o.join(`
`)},en=n=>{const e=n.replace(/\t/g,"    ").split(`
`).map(t=>t.replace(/\s+$/,""));let r=0;const d=[];return e.forEach(t=>{const o=t.trim();/^(elif|else|except|finally)\b/.test(o)&&(r=Math.max(0,r-1)),d.push(N("    ",r)+o),o.endsWith(":")&&r++}),d.join(`
`)},nn=(n,e)=>{switch((n||"").toUpperCase()){case"JSON":return Ke(e);case"XML":return he(e);case"HTML":return Ze(e);case"CSS":return $e(e);case"JS":return qe(e);case"SQL":return xe(e);case"PYTHON":return en(e);case"C":return b(e);case"C++":return b(e);case"C#":return b(e);case"JAVA":return b(e);case"GO":return b(e);case"RUST":return b(e);case"PHP":return b(e);default:return e}},rn={name:"JsonTreeNode",props:{value:{type:[Object,Array,String,Number,Boolean],default:null}},data(){return{collapsed:!1}},computed:{type(){return this.value===null?"null":Array.isArray(this.value)?"array":typeof this.value},display(){return this.value===null?"null":typeof this.value=="string"?`"${this.value}"`:String(this.value)}},methods:{toggle(){this.collapsed=!this.collapsed}}},sn={class:"json-node"},tn={key:1,class:"brace"},on={key:2,class:"children"},ln={class:"key"},an={key:0,class:"comma"},un={key:3,class:"brace"},cn={key:1,class:"brace"},fn={key:2,class:"children"},dn={key:0,class:"comma"},pn={key:3,class:"brace"};function hn(n,e,r,d,t,o){const i=z("JsonTreeNode",!0);return c(),f("span",sn,[o.type==="object"?(c(),f(j,{key:0},[h("span",{class:"toggle",onClick:e[0]||(e[0]=(...a)=>o.toggle&&o.toggle(...a))},T(t.collapsed?"▶":"▼"),1),e[5]||(e[5]=h("span",{class:"brace"},"{",-1)),t.collapsed?(c(),f("span",{key:0,class:"collapsed-hint",onClick:e[1]||(e[1]=(...a)=>o.toggle&&o.toggle(...a))}," ... ")):w("",!0),t.collapsed?(c(),f("span",tn,"}")):w("",!0),t.collapsed?w("",!0):(c(),f("div",on,[(c(!0),f(j,null,H(r.value,(a,m,I)=>(c(),f("div",{key:m,class:"entry"},[h("span",ln,'"'+T(m)+'"',1),e[4]||(e[4]=h("span",{class:"colon"},": ",-1)),R(i,{value:a},null,8,["value"]),I<Object.keys(r.value).length-1?(c(),f("span",an,",")):w("",!0)]))),128))])),t.collapsed?w("",!0):(c(),f("div",un,"}"))],64)):o.type==="array"?(c(),f(j,{key:1},[h("span",{class:"toggle",onClick:e[2]||(e[2]=(...a)=>o.toggle&&o.toggle(...a))},T(t.collapsed?"▶":"▼"),1),e[6]||(e[6]=h("span",{class:"brace"},"[",-1)),t.collapsed?(c(),f("span",{key:0,class:"collapsed-hint",onClick:e[3]||(e[3]=(...a)=>o.toggle&&o.toggle(...a))}," ... ")):w("",!0),t.collapsed?(c(),f("span",cn,"]")):w("",!0),t.collapsed?w("",!0):(c(),f("div",fn,[(c(!0),f(j,null,H(r.value,(a,m)=>(c(),f("div",{key:m,class:"entry"},[R(i,{value:a},null,8,["value"]),m<r.value.length-1?(c(),f("span",dn,",")):w("",!0)]))),128))])),t.collapsed?w("",!0):(c(),f("div",pn,"]"))],64)):(c(),f("span",{key:2,class:ae(o.type)},T(o.display),3))])}const gn=Q(rn,[["render",hn],["__scopeId","data-v-2df1f73b"]]),mn={name:"CodeFormatter",components:{JsonTreeNode:gn},props:{lang:{type:String,default:"HTML"}},data(){return{input:"",output:"",jsonParsed:null,timer:null}},watch:{lang(){this.input="",this.output="",this.jsonParsed=null},input(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{this.runFormat()},300)}},methods:{runFormat(){if(this.output=nn(this.lang,this.input),this.lang==="JSON"&&this.input.trim())try{const n=pe(this.input);this.jsonParsed=JSON.parse(n)}catch{this.jsonParsed=null}else this.jsonParsed=null},doFormat(){this.runFormat()},copy(){this.output&&navigator.clipboard&&navigator.clipboard.writeText(this.output)}}},Cn={class:"formatter"},wn={class:"header"},yn={class:"title"},bn={class:"actions"},Sn={class:"panes"},vn={class:"pane"},kn={class:"pane"},Nn={key:0,class:"json-tree"};function _n(n,e,r,d,t,o){const i=z("JsonTreeNode");return c(),f("div",Cn,[h("div",wn,[h("div",yn,T(r.lang)+" 格式化 ",1),h("div",bn,[h("input",{type:"button",value:"格式化",onClick:e[0]||(e[0]=(...a)=>o.doFormat&&o.doFormat(...a))}),h("input",{type:"button",value:"复制结果",onClick:e[1]||(e[1]=(...a)=>o.copy&&o.copy(...a))})])]),h("div",Sn,[h("div",vn,[e[4]||(e[4]=h("div",{class:"label"}," 源代码 ",-1)),q(h("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.input=a),class:"code"},null,512),[[x,t.input]])]),h("div",kn,[e[5]||(e[5]=h("div",{class:"label"}," 格式化结果 ",-1)),r.lang==="JSON"&&t.jsonParsed!==null?(c(),f("div",Nn,[R(i,{value:t.jsonParsed},null,8,["value"])])):q((c(),f("textarea",{key:1,"onUpdate:modelValue":e[3]||(e[3]=a=>t.output=a),class:"code",readonly:""},null,512)),[[x,t.output]])])])])}const On=Q(mn,[["render",_n],["__scopeId","data-v-a4b2a82f"]]),En={name:"FormatterPage",components:{CodeFormatter:On},data(){return{title:"海军代码格式化",arr:["HTML","CSS","JS","SQL","C","C++","C#","PHP","GO","JAVA","RUST","Python","JSON","XML"],currentLang:"HTML"}},mounted(){document.title=this.title,this.currentLang="HTML"},methods:{toggle(n){this.currentLang=n.target.textContent}}},Tn={class:"menu"},Jn={class:"menu-list"},Ln={class:"opoperate"};function An(n,e,r,d,t,o){const i=z("CodeFormatter");return c(),f("div",null,[h("div",Tn,[h("ul",Jn,[(c(!0),f(j,null,H(t.arr,a=>(c(),f("li",{key:a,class:ae({active:t.currentLang===a}),onClick:e[0]||(e[0]=(...m)=>o.toggle&&o.toggle(...m))},T(a),3))),128))])]),h("div",Ln,[(c(),Te(i,{key:t.currentLang,lang:t.currentLang},null,8,["lang"]))])])}const Wn=Q(En,[["render",An],["__scopeId","data-v-f4ce81bc"]]);export{Wn as default};

import{_ as i,c as r,a as e,e as p,j as d,F as h,h as _,k,o as c,t as o}from"./index-CwEMoTI4.js";const f={data(){return{keyword:"",status:!1,result:[]}},methods:{search(){let l=this.keyword;if(l==="")alert("请输入关键词");else{let n=`https://shuapi.jiaston.com/search.aspx?key=${l}&page=1&siteid=app`;console.log(l),fetch(n,{headers:{"Content-Type":"application/json"}}).then(t=>(console.log(t),t.json())).then(t=>{console.log(t),t.info==="success"?this.result=t.data:alert("搜索失败，请重试")}).catch(t=>{console.log(t)})}},getChapterList(l){this.$router.push(`/novel/${l}`)}}},g={class:"input"},v={key:0,class:"result"},y={class:"image"},m=["src"],C={class:"info"},w=["onClick"];function x(l,n,t,N,a,u){return c(),r("div",null,[e("div",g,[p(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>a.keyword=s),type:"text"},null,512),[[d,a.keyword]]),e("input",{type:"button",value:"搜索",onClick:n[1]||(n[1]=(...s)=>u.search&&u.search(...s))})]),a.status?(c(),r("div",v,[(c(!0),r(h,null,_(a.result,s=>(c(),r("div",{key:s.index,class:"listitem"},[e("div",y,[e("img",{src:s.Img,alt:"暂无图片"},null,8,m)]),e("div",C,[e("h1",null,o(s.Name),1),e("span",null,o(s.Author),1),e("span",null,"类型："+o(s.CName),1),e("span",null,"状态："+o(s.BookStatus),1),e("p",null,o(s.Desc),1),e("p",null,"最新章节："+o(s.LastChapter),1),e("p",null,"最后更新时间："+o(l.UpdateTime),1),e("span",null,[e("button",{class:"chapter",onClick:j=>u.getChapterList(s.Id)},"章节列表",8,w)])])]))),128))])):k("",!0)])}const L=i(f,[["render",x]]);export{L as default};
